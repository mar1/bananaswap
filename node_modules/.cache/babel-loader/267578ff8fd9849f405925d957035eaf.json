{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import{JSBI,Percent}from'moonbeamswap';import{darken}from'polished';import React,{useState}from'react';import{ChevronDown,ChevronUp}from'react-feather';import{Link}from'react-router-dom';import{Text}from'rebass';import styled from'styled-components';import{useTotalSupply}from'../../data/TotalSupply';import{useActiveWeb3React}from'../../hooks';import{useTokenBalance}from'../../state/wallet/hooks';import{currencyId}from'../../utils/currencyId';import{unwrappedToken}from'../../utils/wrappedCurrency';import{ButtonSecondary}from'../Button';import Card,{GreyCard}from'../Card';import{AutoColumn}from'../Column';import CurrencyLogo from'../CurrencyLogo';import DoubleCurrencyLogo from'../DoubleLogo';import{RowBetween,RowFixed}from'../Row';import{Dots}from'../swap/styleds';export var FixedHeightRow=styled(RowBetween)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 24px;\\n\"])));export var HoverCard=styled(Card)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  border: 1px solid \",\";\\n  :hover {\\n    border: 1px solid \",\";\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.bg2;},function(_ref2){var theme=_ref2.theme;return darken(0.06,theme.bg2);});export function MinimalPositionCard(_ref3){var pair=_ref3.pair,_ref3$showUnwrapped=_ref3.showUnwrapped,showUnwrapped=_ref3$showUnwrapped===void 0?false:_ref3$showUnwrapped,border=_ref3.border;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account;var currency0=showUnwrapped?pair.token0:unwrappedToken(pair.token0);var currency1=showUnwrapped?pair.token1:unwrappedToken(pair.token1);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMore=_useState2[0],setShowMore=_useState2[1];var userPoolBalance=useTokenBalance(account!==null&&account!==void 0?account:undefined,pair.liquidityToken);var totalPoolTokens=useTotalSupply(pair.liquidityToken);var _ref4=!!pair&&!!totalPoolTokens&&!!userPoolBalance&&// this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\nJSBI.greaterThanOrEqual(totalPoolTokens.raw,userPoolBalance.raw)?[pair.getLiquidityValue(pair.token0,totalPoolTokens,userPoolBalance,false),pair.getLiquidityValue(pair.token1,totalPoolTokens,userPoolBalance,false)]:[undefined,undefined],_ref5=_slicedToArray(_ref4,2),token0Deposited=_ref5[0],token1Deposited=_ref5[1];return/*#__PURE__*/React.createElement(React.Fragment,null,userPoolBalance&&/*#__PURE__*/React.createElement(GreyCard,{border:border},/*#__PURE__*/React.createElement(AutoColumn,{gap:\"12px\"},/*#__PURE__*/React.createElement(FixedHeightRow,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:16},\"Your position\"))),/*#__PURE__*/React.createElement(FixedHeightRow,{onClick:function onClick(){return setShowMore(!showMore);}},/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(DoubleCurrencyLogo,{currency0:currency0,currency1:currency1,margin:true,size:20}),/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:20},currency0.symbol,\"/\",currency1.symbol)),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:20},userPoolBalance?userPoolBalance.toSignificant(4):'-'))),/*#__PURE__*/React.createElement(AutoColumn,{gap:\"4px\"},/*#__PURE__*/React.createElement(FixedHeightRow,null,/*#__PURE__*/React.createElement(Text,{color:\"#888D9B\",fontSize:16,fontWeight:500},currency0.symbol,\":\"),token0Deposited?/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(Text,{color:\"#888D9B\",fontSize:16,fontWeight:500,marginLeft:'6px'},token0Deposited===null||token0Deposited===void 0?void 0:token0Deposited.toSignificant(6))):'-'),/*#__PURE__*/React.createElement(FixedHeightRow,null,/*#__PURE__*/React.createElement(Text,{color:\"#888D9B\",fontSize:16,fontWeight:500},currency1.symbol,\":\"),token1Deposited?/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(Text,{color:\"#888D9B\",fontSize:16,fontWeight:500,marginLeft:'6px'},token1Deposited===null||token1Deposited===void 0?void 0:token1Deposited.toSignificant(6))):'-')))));}export default function FullPositionCard(_ref6){var pair=_ref6.pair,border=_ref6.border;var _useActiveWeb3React2=useActiveWeb3React(),account=_useActiveWeb3React2.account;var currency0=unwrappedToken(pair.token0);var currency1=unwrappedToken(pair.token1);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showMore=_useState4[0],setShowMore=_useState4[1];var userPoolBalance=useTokenBalance(account!==null&&account!==void 0?account:undefined,pair.liquidityToken);var totalPoolTokens=useTotalSupply(pair.liquidityToken);var poolTokenPercentage=!!userPoolBalance&&!!totalPoolTokens&&JSBI.greaterThanOrEqual(totalPoolTokens.raw,userPoolBalance.raw)?new Percent(userPoolBalance.raw,totalPoolTokens.raw):undefined;var _ref7=!!pair&&!!totalPoolTokens&&!!userPoolBalance&&// this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\nJSBI.greaterThanOrEqual(totalPoolTokens.raw,userPoolBalance.raw)?[pair.getLiquidityValue(pair.token0,totalPoolTokens,userPoolBalance,false),pair.getLiquidityValue(pair.token1,totalPoolTokens,userPoolBalance,false)]:[undefined,undefined],_ref8=_slicedToArray(_ref7,2),token0Deposited=_ref8[0],token1Deposited=_ref8[1];return/*#__PURE__*/React.createElement(HoverCard,null,/*#__PURE__*/React.createElement(AutoColumn,{gap:\"12px\"},/*#__PURE__*/React.createElement(FixedHeightRow,{onClick:function onClick(){return setShowMore(!showMore);},style:{cursor:'pointer'}},/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(DoubleCurrencyLogo,{currency0:currency0,currency1:currency1,margin:true,size:20}),/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:20},!currency0||!currency1?/*#__PURE__*/React.createElement(Dots,null,\"Loading\"):\"\".concat(currency0.symbol,\"/\").concat(currency1.symbol))),/*#__PURE__*/React.createElement(RowFixed,null,showMore?/*#__PURE__*/React.createElement(ChevronUp,{size:\"20\",style:{marginLeft:'10px'}}):/*#__PURE__*/React.createElement(ChevronDown,{size:\"20\",style:{marginLeft:'10px'}}))),showMore&&/*#__PURE__*/React.createElement(AutoColumn,{gap:\"8px\"},/*#__PURE__*/React.createElement(FixedHeightRow,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(Text,{fontSize:16,fontWeight:500},\"Pooled \",currency0.symbol,\":\")),token0Deposited?/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(Text,{fontSize:16,fontWeight:500,marginLeft:'6px'},token0Deposited===null||token0Deposited===void 0?void 0:token0Deposited.toSignificant(6)),/*#__PURE__*/React.createElement(CurrencyLogo,{size:\"20px\",style:{marginLeft:'8px'},currency:currency0})):'-'),/*#__PURE__*/React.createElement(FixedHeightRow,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(Text,{fontSize:16,fontWeight:500},\"Pooled \",currency1.symbol,\":\")),token1Deposited?/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(Text,{fontSize:16,fontWeight:500,marginLeft:'6px'},token1Deposited===null||token1Deposited===void 0?void 0:token1Deposited.toSignificant(6)),/*#__PURE__*/React.createElement(CurrencyLogo,{size:\"20px\",style:{marginLeft:'8px'},currency:currency1})):'-'),/*#__PURE__*/React.createElement(FixedHeightRow,null,/*#__PURE__*/React.createElement(Text,{fontSize:16,fontWeight:500},\"Your pool tokens:\"),/*#__PURE__*/React.createElement(Text,{fontSize:16,fontWeight:500},userPoolBalance?userPoolBalance.toSignificant(4):'-')),/*#__PURE__*/React.createElement(FixedHeightRow,null,/*#__PURE__*/React.createElement(Text,{fontSize:16,fontWeight:500},\"Your pool share:\"),/*#__PURE__*/React.createElement(Text,{fontSize:16,fontWeight:500},poolTokenPercentage?poolTokenPercentage.toFixed(2)+'%':'-')),/*#__PURE__*/React.createElement(RowBetween,{marginTop:\"10px\"},/*#__PURE__*/React.createElement(ButtonSecondary,{as:Link,to:\"/add/\".concat(currencyId(currency0),\"/\").concat(currencyId(currency1)),width:\"48%\"},\"Add\"),/*#__PURE__*/React.createElement(ButtonSecondary,{as:Link,width:\"48%\",to:\"/remove/\".concat(currencyId(currency0),\"/\").concat(currencyId(currency1))},\"Remove\")))));}","map":{"version":3,"sources":["C:/Users/marin/Desktop/bananaswap/src/components/PositionCard/index.tsx"],"names":["JSBI","Percent","darken","React","useState","ChevronDown","ChevronUp","Link","Text","styled","useTotalSupply","useActiveWeb3React","useTokenBalance","currencyId","unwrappedToken","ButtonSecondary","Card","GreyCard","AutoColumn","CurrencyLogo","DoubleCurrencyLogo","RowBetween","RowFixed","Dots","FixedHeightRow","HoverCard","theme","bg2","MinimalPositionCard","pair","showUnwrapped","border","account","currency0","token0","currency1","token1","showMore","setShowMore","userPoolBalance","undefined","liquidityToken","totalPoolTokens","greaterThanOrEqual","raw","getLiquidityValue","token0Deposited","token1Deposited","symbol","toSignificant","FullPositionCard","poolTokenPercentage","cursor","marginLeft","toFixed"],"mappings":"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","sourcesContent":["import { JSBI, Pair, Percent } from 'moonbeamswap'\r\nimport { darken } from 'polished'\r\nimport React, { useState } from 'react'\r\nimport { ChevronDown, ChevronUp } from 'react-feather'\r\nimport { Link } from 'react-router-dom'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport { useTotalSupply } from '../../data/TotalSupply'\r\n\r\nimport { useActiveWeb3React } from '../../hooks'\r\nimport { useTokenBalance } from '../../state/wallet/hooks'\r\nimport { currencyId } from '../../utils/currencyId'\r\nimport { unwrappedToken } from '../../utils/wrappedCurrency'\r\nimport { ButtonSecondary } from '../Button'\r\n\r\nimport Card, { GreyCard } from '../Card'\r\nimport { AutoColumn } from '../Column'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport DoubleCurrencyLogo from '../DoubleLogo'\r\nimport { RowBetween, RowFixed } from '../Row'\r\nimport { Dots } from '../swap/styleds'\r\n\r\nexport const FixedHeightRow = styled(RowBetween)`\r\n  height: 24px;\r\n`\r\n\r\nexport const HoverCard = styled(Card)`\r\n  border: 1px solid ${({ theme }) => theme.bg2};\r\n  :hover {\r\n    border: 1px solid ${({ theme }) => darken(0.06, theme.bg2)};\r\n  }\r\n`\r\n\r\ninterface PositionCardProps {\r\n  pair: Pair,\r\n  showUnwrapped?: boolean,\r\n  border?: string\r\n}\r\n\r\nexport function MinimalPositionCard({ pair, showUnwrapped = false, border }: PositionCardProps) {\r\n  const { account } = useActiveWeb3React()\r\n\r\n  const currency0 = showUnwrapped ? pair.token0 : unwrappedToken(pair.token0)\r\n  const currency1 = showUnwrapped ? pair.token1 : unwrappedToken(pair.token1)\r\n\r\n  const [showMore, setShowMore] = useState(false)\r\n\r\n  const userPoolBalance = useTokenBalance(account ?? undefined, pair.liquidityToken)\r\n  const totalPoolTokens = useTotalSupply(pair.liquidityToken)\r\n\r\n  const [token0Deposited, token1Deposited] =\r\n    !!pair &&\r\n    !!totalPoolTokens &&\r\n    !!userPoolBalance &&\r\n    // this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\r\n    JSBI.greaterThanOrEqual(totalPoolTokens.raw, userPoolBalance.raw)\r\n      ? [\r\n          pair.getLiquidityValue(pair.token0, totalPoolTokens, userPoolBalance, false),\r\n          pair.getLiquidityValue(pair.token1, totalPoolTokens, userPoolBalance, false)\r\n        ]\r\n      : [undefined, undefined]\r\n\r\n  return (\r\n    <>\r\n      {userPoolBalance && (\r\n        <GreyCard border={border}>\r\n          <AutoColumn gap=\"12px\">\r\n            <FixedHeightRow>\r\n              <RowFixed>\r\n                <Text fontWeight={500} fontSize={16}>\r\n                  Your position\r\n                </Text>\r\n              </RowFixed>\r\n            </FixedHeightRow>\r\n            <FixedHeightRow onClick={() => setShowMore(!showMore)}>\r\n              <RowFixed>\r\n                <DoubleCurrencyLogo currency0={currency0} currency1={currency1} margin={true} size={20} />\r\n                <Text fontWeight={500} fontSize={20}>\r\n                  {currency0.symbol}/{currency1.symbol}\r\n                </Text>\r\n              </RowFixed>\r\n              <RowFixed>\r\n                <Text fontWeight={500} fontSize={20}>\r\n                  {userPoolBalance ? userPoolBalance.toSignificant(4) : '-'}\r\n                </Text>\r\n              </RowFixed>\r\n            </FixedHeightRow>\r\n            <AutoColumn gap=\"4px\">\r\n              <FixedHeightRow>\r\n                <Text color=\"#888D9B\" fontSize={16} fontWeight={500}>\r\n                  {currency0.symbol}:\r\n                </Text>\r\n                {token0Deposited ? (\r\n                  <RowFixed>\r\n                    <Text color=\"#888D9B\" fontSize={16} fontWeight={500} marginLeft={'6px'}>\r\n                      {token0Deposited?.toSignificant(6)}\r\n                    </Text>\r\n                  </RowFixed>\r\n                ) : (\r\n                  '-'\r\n                )}\r\n              </FixedHeightRow>\r\n              <FixedHeightRow>\r\n                <Text color=\"#888D9B\" fontSize={16} fontWeight={500}>\r\n                  {currency1.symbol}:\r\n                </Text>\r\n                {token1Deposited ? (\r\n                  <RowFixed>\r\n                    <Text color=\"#888D9B\" fontSize={16} fontWeight={500} marginLeft={'6px'}>\r\n                      {token1Deposited?.toSignificant(6)}\r\n                    </Text>\r\n                  </RowFixed>\r\n                ) : (\r\n                  '-'\r\n                )}\r\n              </FixedHeightRow>\r\n            </AutoColumn>\r\n          </AutoColumn>\r\n        </GreyCard>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default function FullPositionCard({ pair, border }: PositionCardProps) {\r\n  const { account } = useActiveWeb3React()\r\n\r\n  const currency0 = unwrappedToken(pair.token0)\r\n  const currency1 = unwrappedToken(pair.token1)\r\n\r\n  const [showMore, setShowMore] = useState(false)\r\n\r\n  const userPoolBalance = useTokenBalance(account ?? undefined, pair.liquidityToken)\r\n  const totalPoolTokens = useTotalSupply(pair.liquidityToken)\r\n\r\n  const poolTokenPercentage =\r\n    !!userPoolBalance && !!totalPoolTokens && JSBI.greaterThanOrEqual(totalPoolTokens.raw, userPoolBalance.raw)\r\n      ? new Percent(userPoolBalance.raw, totalPoolTokens.raw)\r\n      : undefined\r\n\r\n  const [token0Deposited, token1Deposited] =\r\n    !!pair &&\r\n    !!totalPoolTokens &&\r\n    !!userPoolBalance &&\r\n    // this condition is a short-circuit in the case where useTokenBalance updates sooner than useTotalSupply\r\n    JSBI.greaterThanOrEqual(totalPoolTokens.raw, userPoolBalance.raw)\r\n      ? [\r\n          pair.getLiquidityValue(pair.token0, totalPoolTokens, userPoolBalance, false),\r\n          pair.getLiquidityValue(pair.token1, totalPoolTokens, userPoolBalance, false)\r\n        ]\r\n      : [undefined, undefined]\r\n\r\n  return (\r\n    <HoverCard>\r\n      <AutoColumn gap=\"12px\">\r\n        <FixedHeightRow onClick={() => setShowMore(!showMore)} style={{ cursor: 'pointer' }}>\r\n          <RowFixed>\r\n            <DoubleCurrencyLogo currency0={currency0} currency1={currency1} margin={true} size={20} />\r\n            <Text fontWeight={500} fontSize={20}>\r\n              {!currency0 || !currency1 ? <Dots>Loading</Dots> : `${currency0.symbol}/${currency1.symbol}`}\r\n            </Text>\r\n          </RowFixed>\r\n          <RowFixed>\r\n            {showMore ? (\r\n              <ChevronUp size=\"20\" style={{ marginLeft: '10px' }} />\r\n            ) : (\r\n              <ChevronDown size=\"20\" style={{ marginLeft: '10px' }} />\r\n            )}\r\n          </RowFixed>\r\n        </FixedHeightRow>\r\n        {showMore && (\r\n          <AutoColumn gap=\"8px\">\r\n            <FixedHeightRow>\r\n              <RowFixed>\r\n                <Text fontSize={16} fontWeight={500}>\r\n                  Pooled {currency0.symbol}:\r\n                </Text>\r\n              </RowFixed>\r\n              {token0Deposited ? (\r\n                <RowFixed>\r\n                  <Text fontSize={16} fontWeight={500} marginLeft={'6px'}>\r\n                    {token0Deposited?.toSignificant(6)}\r\n                  </Text>\r\n                  <CurrencyLogo size=\"20px\" style={{ marginLeft: '8px' }} currency={currency0} />\r\n                </RowFixed>\r\n              ) : (\r\n                '-'\r\n              )}\r\n            </FixedHeightRow>\r\n\r\n            <FixedHeightRow>\r\n              <RowFixed>\r\n                <Text fontSize={16} fontWeight={500}>\r\n                  Pooled {currency1.symbol}:\r\n                </Text>\r\n              </RowFixed>\r\n              {token1Deposited ? (\r\n                <RowFixed>\r\n                  <Text fontSize={16} fontWeight={500} marginLeft={'6px'}>\r\n                    {token1Deposited?.toSignificant(6)}\r\n                  </Text>\r\n                  <CurrencyLogo size=\"20px\" style={{ marginLeft: '8px' }} currency={currency1} />\r\n                </RowFixed>\r\n              ) : (\r\n                '-'\r\n              )}\r\n            </FixedHeightRow>\r\n            <FixedHeightRow>\r\n              <Text fontSize={16} fontWeight={500}>\r\n                Your pool tokens:\r\n              </Text>\r\n              <Text fontSize={16} fontWeight={500}>\r\n                {userPoolBalance ? userPoolBalance.toSignificant(4) : '-'}\r\n              </Text>\r\n            </FixedHeightRow>\r\n            <FixedHeightRow>\r\n              <Text fontSize={16} fontWeight={500}>\r\n                Your pool share:\r\n              </Text>\r\n              <Text fontSize={16} fontWeight={500}>\r\n                {poolTokenPercentage ? poolTokenPercentage.toFixed(2) + '%' : '-'}\r\n              </Text>\r\n            </FixedHeightRow>\r\n\r\n\r\n            <RowBetween marginTop=\"10px\">\r\n              <ButtonSecondary as={Link} to={`/add/${currencyId(currency0)}/${currencyId(currency1)}`} width=\"48%\">\r\n                Add\r\n              </ButtonSecondary>\r\n              <ButtonSecondary as={Link} width=\"48%\" to={`/remove/${currencyId(currency0)}/${currencyId(currency1)}`}>\r\n                Remove\r\n              </ButtonSecondary>\r\n            </RowBetween>\r\n          </AutoColumn>\r\n        )}\r\n      </AutoColumn>\r\n    </HoverCard>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}