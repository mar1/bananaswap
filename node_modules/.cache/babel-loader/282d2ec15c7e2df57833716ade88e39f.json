{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import{TradeType}from'moonbeamswap';import React,{useContext,useMemo,useState}from'react';import{Repeat}from'react-feather';import{Text}from'rebass';import{ThemeContext}from'styled-components';import{Field}from'../../state/swap/actions';import{TYPE}from'../../theme';import{computeSlippageAdjustedAmounts,computeTradePriceBreakdown,formatExecutionPrice,warningSeverity}from'../../utils/prices';import{ButtonError}from'../Button';import{AutoColumn}from'../Column';import QuestionHelper from'../QuestionHelper';import{AutoRow,RowBetween,RowFixed}from'../Row';import FormattedPriceImpact from'./FormattedPriceImpact';import{StyledBalanceMaxMini,SwapCallbackError}from'./styleds';export default function SwapModalFooter(_ref){var _slippageAdjustedAmou,_slippageAdjustedAmou2,_slippageAdjustedAmou3,_slippageAdjustedAmou4;var trade=_ref.trade,onConfirm=_ref.onConfirm,allowedSlippage=_ref.allowedSlippage,swapErrorMessage=_ref.swapErrorMessage,disabledConfirm=_ref.disabledConfirm;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showInverted=_useState2[0],setShowInverted=_useState2[1];var theme=useContext(ThemeContext);var slippageAdjustedAmounts=useMemo(function(){return computeSlippageAdjustedAmounts(trade,allowedSlippage);},[allowedSlippage,trade]);var _useMemo=useMemo(function(){return computeTradePriceBreakdown(trade);},[trade]),priceImpactWithoutFee=_useMemo.priceImpactWithoutFee,realizedLPFee=_useMemo.realizedLPFee;var severity=warningSeverity(priceImpactWithoutFee);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AutoColumn,{gap:\"0px\"},/*#__PURE__*/React.createElement(RowBetween,{align:\"center\"},/*#__PURE__*/React.createElement(Text,{fontWeight:400,fontSize:14,color:theme.text2},\"Price\"),/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:14,color:theme.text1,style:{justifyContent:'center',alignItems:'center',display:'flex',textAlign:'right',paddingLeft:'10px'}},formatExecutionPrice(trade,showInverted),/*#__PURE__*/React.createElement(StyledBalanceMaxMini,{onClick:function onClick(){return setShowInverted(!showInverted);}},/*#__PURE__*/React.createElement(Repeat,{size:14})))),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14,fontWeight:400,color:theme.text2},trade.tradeType===TradeType.EXACT_INPUT?'Minimum received':'Maximum sold'),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.\"})),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14},trade.tradeType===TradeType.EXACT_INPUT?(_slippageAdjustedAmou=(_slippageAdjustedAmou2=slippageAdjustedAmounts[Field.OUTPUT])===null||_slippageAdjustedAmou2===void 0?void 0:_slippageAdjustedAmou2.toSignificant(4))!==null&&_slippageAdjustedAmou!==void 0?_slippageAdjustedAmou:'-':(_slippageAdjustedAmou3=(_slippageAdjustedAmou4=slippageAdjustedAmounts[Field.INPUT])===null||_slippageAdjustedAmou4===void 0?void 0:_slippageAdjustedAmou4.toSignificant(4))!==null&&_slippageAdjustedAmou3!==void 0?_slippageAdjustedAmou3:'-'),/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14,marginLeft:'4px'},trade.tradeType===TradeType.EXACT_INPUT?trade.outputAmount.currency.symbol:trade.inputAmount.currency.symbol))),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{color:theme.text2,fontSize:14,fontWeight:400},\"Price Impact\"),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"The difference between the market price and your price due to trade size.\"})),/*#__PURE__*/React.createElement(FormattedPriceImpact,{priceImpact:priceImpactWithoutFee})),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14,fontWeight:400,color:theme.text2},\"Liquidity Provider Fee\"),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"A portion of each trade (0.30%) goes to liquidity providers as a protocol incentive.\"})),/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14},realizedLPFee?(realizedLPFee===null||realizedLPFee===void 0?void 0:realizedLPFee.toSignificant(6))+' '+trade.inputAmount.currency.symbol:'-'))),/*#__PURE__*/React.createElement(AutoRow,null,/*#__PURE__*/React.createElement(ButtonError,{onClick:onConfirm,disabled:disabledConfirm,error:severity>2,style:{margin:'10px 0 0 0'},id:\"confirm-swap-or-send\"},/*#__PURE__*/React.createElement(Text,{fontSize:20,fontWeight:500},severity>2?'Swap Anyway':'Confirm Swap')),swapErrorMessage?/*#__PURE__*/React.createElement(SwapCallbackError,{error:swapErrorMessage}):null));}","map":{"version":3,"sources":["C:/Users/marin/Desktop/bananaswap/src/components/swap/SwapModalFooter.tsx"],"names":["TradeType","React","useContext","useMemo","useState","Repeat","Text","ThemeContext","Field","TYPE","computeSlippageAdjustedAmounts","computeTradePriceBreakdown","formatExecutionPrice","warningSeverity","ButtonError","AutoColumn","QuestionHelper","AutoRow","RowBetween","RowFixed","FormattedPriceImpact","StyledBalanceMaxMini","SwapCallbackError","SwapModalFooter","trade","onConfirm","allowedSlippage","swapErrorMessage","disabledConfirm","showInverted","setShowInverted","theme","slippageAdjustedAmounts","priceImpactWithoutFee","realizedLPFee","severity","text2","text1","justifyContent","alignItems","display","textAlign","paddingLeft","tradeType","EXACT_INPUT","OUTPUT","toSignificant","INPUT","outputAmount","currency","symbol","inputAmount","margin"],"mappings":"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","sourcesContent":["import { Trade, TradeType } from 'moonbeamswap'\r\nimport React, { useContext, useMemo, useState } from 'react'\r\nimport { Repeat } from 'react-feather'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { Field } from '../../state/swap/actions'\r\nimport { TYPE } from '../../theme'\r\nimport {\r\n  computeSlippageAdjustedAmounts,\r\n  computeTradePriceBreakdown,\r\n  formatExecutionPrice,\r\n  warningSeverity\r\n} from '../../utils/prices'\r\nimport { ButtonError } from '../Button'\r\nimport { AutoColumn } from '../Column'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { AutoRow, RowBetween, RowFixed } from '../Row'\r\nimport FormattedPriceImpact from './FormattedPriceImpact'\r\nimport { StyledBalanceMaxMini, SwapCallbackError } from './styleds'\r\n\r\nexport default function SwapModalFooter({\r\n  trade,\r\n  onConfirm,\r\n  allowedSlippage,\r\n  swapErrorMessage,\r\n  disabledConfirm\r\n}: {\r\n  trade: Trade\r\n  allowedSlippage: number\r\n  onConfirm: () => void\r\n  swapErrorMessage: string | undefined\r\n  disabledConfirm: boolean\r\n}) {\r\n  const [showInverted, setShowInverted] = useState<boolean>(false)\r\n  const theme = useContext(ThemeContext)\r\n  const slippageAdjustedAmounts = useMemo(() => computeSlippageAdjustedAmounts(trade, allowedSlippage), [\r\n    allowedSlippage,\r\n    trade\r\n  ])\r\n  const { priceImpactWithoutFee, realizedLPFee } = useMemo(() => computeTradePriceBreakdown(trade), [trade])\r\n  const severity = warningSeverity(priceImpactWithoutFee)\r\n\r\n  return (\r\n    <>\r\n      <AutoColumn gap=\"0px\">\r\n        <RowBetween align=\"center\">\r\n          <Text fontWeight={400} fontSize={14} color={theme.text2}>\r\n            Price\r\n          </Text>\r\n          <Text\r\n            fontWeight={500}\r\n            fontSize={14}\r\n            color={theme.text1}\r\n            style={{\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              display: 'flex',\r\n              textAlign: 'right',\r\n              paddingLeft: '10px'\r\n            }}\r\n          >\r\n            {formatExecutionPrice(trade, showInverted)}\r\n            <StyledBalanceMaxMini onClick={() => setShowInverted(!showInverted)}>\r\n              <Repeat size={14} />\r\n            </StyledBalanceMaxMini>\r\n          </Text>\r\n        </RowBetween>\r\n\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              {trade.tradeType === TradeType.EXACT_INPUT ? 'Minimum received' : 'Maximum sold'}\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"Your transaction will revert if there is a large, unfavorable price movement before it is confirmed.\" />\r\n          </RowFixed>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14}>\r\n              {trade.tradeType === TradeType.EXACT_INPUT\r\n                ? slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(4) ?? '-'\r\n                : slippageAdjustedAmounts[Field.INPUT]?.toSignificant(4) ?? '-'}\r\n            </TYPE.black>\r\n            <TYPE.black fontSize={14} marginLeft={'4px'}>\r\n              {trade.tradeType === TradeType.EXACT_INPUT\r\n                ? trade.outputAmount.currency.symbol\r\n                : trade.inputAmount.currency.symbol}\r\n            </TYPE.black>\r\n          </RowFixed>\r\n        </RowBetween>\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black color={theme.text2} fontSize={14} fontWeight={400}>\r\n              Price Impact\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"The difference between the market price and your price due to trade size.\" />\r\n          </RowFixed>\r\n          <FormattedPriceImpact priceImpact={priceImpactWithoutFee} />\r\n        </RowBetween>\r\n        <RowBetween>\r\n          <RowFixed>\r\n            <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n              Liquidity Provider Fee\r\n            </TYPE.black>\r\n            <QuestionHelper text=\"A portion of each trade (0.30%) goes to liquidity providers as a protocol incentive.\" />\r\n          </RowFixed>\r\n          <TYPE.black fontSize={14}>\r\n            {realizedLPFee ? realizedLPFee?.toSignificant(6) + ' ' + trade.inputAmount.currency.symbol : '-'}\r\n          </TYPE.black>\r\n        </RowBetween>\r\n      </AutoColumn>\r\n\r\n      <AutoRow>\r\n        <ButtonError\r\n          onClick={onConfirm}\r\n          disabled={disabledConfirm}\r\n          error={severity > 2}\r\n          style={{ margin: '10px 0 0 0' }}\r\n          id=\"confirm-swap-or-send\"\r\n        >\r\n          <Text fontSize={20} fontWeight={500}>\r\n            {severity > 2 ? 'Swap Anyway' : 'Confirm Swap'}\r\n          </Text>\r\n        </ButtonError>\r\n\r\n        {swapErrorMessage ? <SwapCallbackError error={swapErrorMessage} /> : null}\r\n      </AutoRow>\r\n    </>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}