{"ast":null,"code":"import{TradeType}from'moonbeamswap';import React,{useContext,useMemo}from'react';import{ArrowDown,AlertTriangle}from'react-feather';import{Text}from'rebass';import{ThemeContext}from'styled-components';import{Field}from'../../state/swap/actions';import{TYPE}from'../../theme';import{ButtonPrimary}from'../Button';import{isAddress,shortenAddress}from'../../utils';import{computeSlippageAdjustedAmounts,computeTradePriceBreakdown,warningSeverity}from'../../utils/prices';import{AutoColumn}from'../Column';import CurrencyLogo from'../CurrencyLogo';import{RowBetween,RowFixed}from'../Row';import{TruncatedText,SwapShowAcceptChanges}from'./styleds';export default function SwapModalHeader(_ref){var _slippageAdjustedAmou,_slippageAdjustedAmou2;var trade=_ref.trade,allowedSlippage=_ref.allowedSlippage,recipient=_ref.recipient,showAcceptChanges=_ref.showAcceptChanges,onAcceptChanges=_ref.onAcceptChanges;var slippageAdjustedAmounts=useMemo(function(){return computeSlippageAdjustedAmounts(trade,allowedSlippage);},[trade,allowedSlippage]);var _useMemo=useMemo(function(){return computeTradePriceBreakdown(trade);},[trade]),priceImpactWithoutFee=_useMemo.priceImpactWithoutFee;var priceImpactSeverity=warningSeverity(priceImpactWithoutFee);var theme=useContext(ThemeContext);return/*#__PURE__*/React.createElement(AutoColumn,{gap:'md',style:{marginTop:'20px'}},/*#__PURE__*/React.createElement(RowBetween,{align:\"flex-end\"},/*#__PURE__*/React.createElement(RowFixed,{gap:'0px'},/*#__PURE__*/React.createElement(CurrencyLogo,{currency:trade.inputAmount.currency,size:'24px',style:{marginRight:'12px'}}),/*#__PURE__*/React.createElement(TruncatedText,{fontSize:24,fontWeight:500,color:showAcceptChanges&&trade.tradeType===TradeType.EXACT_OUTPUT?theme.primary1:''},trade.inputAmount.toSignificant(6))),/*#__PURE__*/React.createElement(RowFixed,{gap:'0px'},/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500,style:{marginLeft:'10px'}},trade.inputAmount.currency.symbol))),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(ArrowDown,{size:\"16\",color:theme.text2,style:{marginLeft:'4px',minWidth:'16px'}})),/*#__PURE__*/React.createElement(RowBetween,{align:\"flex-end\"},/*#__PURE__*/React.createElement(RowFixed,{gap:'0px'},/*#__PURE__*/React.createElement(CurrencyLogo,{currency:trade.outputAmount.currency,size:'24px',style:{marginRight:'12px'}}),/*#__PURE__*/React.createElement(TruncatedText,{fontSize:24,fontWeight:500,color:priceImpactSeverity>2?theme.red1:showAcceptChanges&&trade.tradeType===TradeType.EXACT_INPUT?theme.primary1:''},trade.outputAmount.toSignificant(6))),/*#__PURE__*/React.createElement(RowFixed,{gap:'0px'},/*#__PURE__*/React.createElement(Text,{fontSize:24,fontWeight:500,style:{marginLeft:'10px'}},trade.outputAmount.currency.symbol))),showAcceptChanges?/*#__PURE__*/React.createElement(SwapShowAcceptChanges,{justify:\"flex-start\",gap:'0px'},/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(AlertTriangle,{size:20,style:{marginRight:'8px',minWidth:24}}),/*#__PURE__*/React.createElement(TYPE.main,{color:theme.primary1},\" Price Updated\")),/*#__PURE__*/React.createElement(ButtonPrimary,{style:{padding:'.5rem',width:'fit-content',fontSize:'0.825rem',borderRadius:'12px'},onClick:onAcceptChanges},\"Accept\"))):null,/*#__PURE__*/React.createElement(AutoColumn,{justify:\"flex-start\",gap:\"sm\",style:{padding:'12px 0 0 0px'}},trade.tradeType===TradeType.EXACT_INPUT?/*#__PURE__*/React.createElement(TYPE.italic,{textAlign:\"left\",style:{width:'100%'}},\"Output is estimated. You will receive at least \",/*#__PURE__*/React.createElement(\"b\",null,(_slippageAdjustedAmou=slippageAdjustedAmounts[Field.OUTPUT])===null||_slippageAdjustedAmou===void 0?void 0:_slippageAdjustedAmou.toSignificant(6),\" \",trade.outputAmount.currency.symbol),' or the transaction will revert.'):/*#__PURE__*/React.createElement(TYPE.italic,{textAlign:\"left\",style:{width:'100%'}},\"Input is estimated. You will sell at most \",/*#__PURE__*/React.createElement(\"b\",null,(_slippageAdjustedAmou2=slippageAdjustedAmounts[Field.INPUT])===null||_slippageAdjustedAmou2===void 0?void 0:_slippageAdjustedAmou2.toSignificant(6),\" \",trade.inputAmount.currency.symbol),' or the transaction will revert.')),recipient!==null?/*#__PURE__*/React.createElement(AutoColumn,{justify:\"flex-start\",gap:\"sm\",style:{padding:'12px 0 0 0px'}},/*#__PURE__*/React.createElement(TYPE.main,null,\"Output will be sent to\",' ',/*#__PURE__*/React.createElement(\"b\",{title:recipient},isAddress(recipient)?shortenAddress(recipient):recipient))):null);}","map":{"version":3,"sources":["C:/Users/marin/Desktop/bananaswap/src/components/swap/SwapModalHeader.tsx"],"names":["TradeType","React","useContext","useMemo","ArrowDown","AlertTriangle","Text","ThemeContext","Field","TYPE","ButtonPrimary","isAddress","shortenAddress","computeSlippageAdjustedAmounts","computeTradePriceBreakdown","warningSeverity","AutoColumn","CurrencyLogo","RowBetween","RowFixed","TruncatedText","SwapShowAcceptChanges","SwapModalHeader","trade","allowedSlippage","recipient","showAcceptChanges","onAcceptChanges","slippageAdjustedAmounts","priceImpactWithoutFee","priceImpactSeverity","theme","marginTop","inputAmount","currency","marginRight","tradeType","EXACT_OUTPUT","primary1","toSignificant","marginLeft","symbol","text2","minWidth","outputAmount","red1","EXACT_INPUT","padding","width","fontSize","borderRadius","OUTPUT","INPUT"],"mappings":"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","sourcesContent":["import { Trade, TradeType } from 'moonbeamswap'\r\nimport React, { useContext, useMemo } from 'react'\r\nimport { ArrowDown, AlertTriangle } from 'react-feather'\r\nimport { Text } from 'rebass'\r\nimport { ThemeContext } from 'styled-components'\r\nimport { Field } from '../../state/swap/actions'\r\nimport { TYPE } from '../../theme'\r\nimport { ButtonPrimary } from '../Button'\r\nimport { isAddress, shortenAddress } from '../../utils'\r\nimport { computeSlippageAdjustedAmounts, computeTradePriceBreakdown, warningSeverity } from '../../utils/prices'\r\nimport { AutoColumn } from '../Column'\r\nimport CurrencyLogo from '../CurrencyLogo'\r\nimport { RowBetween, RowFixed } from '../Row'\r\nimport { TruncatedText, SwapShowAcceptChanges } from './styleds'\r\n\r\nexport default function SwapModalHeader({\r\n  trade,\r\n  allowedSlippage,\r\n  recipient,\r\n  showAcceptChanges,\r\n  onAcceptChanges\r\n}: {\r\n  trade: Trade\r\n  allowedSlippage: number\r\n  recipient: string | null\r\n  showAcceptChanges: boolean\r\n  onAcceptChanges: () => void\r\n}) {\r\n  const slippageAdjustedAmounts = useMemo(() => computeSlippageAdjustedAmounts(trade, allowedSlippage), [\r\n    trade,\r\n    allowedSlippage\r\n  ])\r\n  const { priceImpactWithoutFee } = useMemo(() => computeTradePriceBreakdown(trade), [trade])\r\n  const priceImpactSeverity = warningSeverity(priceImpactWithoutFee)\r\n\r\n  const theme = useContext(ThemeContext)\r\n\r\n  return (\r\n    <AutoColumn gap={'md'} style={{ marginTop: '20px' }}>\r\n      <RowBetween align=\"flex-end\">\r\n        <RowFixed gap={'0px'}>\r\n          <CurrencyLogo currency={trade.inputAmount.currency} size={'24px'} style={{ marginRight: '12px' }} />\r\n          <TruncatedText\r\n            fontSize={24}\r\n            fontWeight={500}\r\n            color={showAcceptChanges && trade.tradeType === TradeType.EXACT_OUTPUT ? theme.primary1 : ''}\r\n          >\r\n            {trade.inputAmount.toSignificant(6)}\r\n          </TruncatedText>\r\n        </RowFixed>\r\n        <RowFixed gap={'0px'}>\r\n          <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\r\n            {trade.inputAmount.currency.symbol}\r\n          </Text>\r\n        </RowFixed>\r\n      </RowBetween>\r\n      <RowFixed>\r\n        <ArrowDown size=\"16\" color={theme.text2} style={{ marginLeft: '4px', minWidth: '16px' }} />\r\n      </RowFixed>\r\n      <RowBetween align=\"flex-end\">\r\n        <RowFixed gap={'0px'}>\r\n          <CurrencyLogo currency={trade.outputAmount.currency} size={'24px'} style={{ marginRight: '12px' }} />\r\n          <TruncatedText\r\n            fontSize={24}\r\n            fontWeight={500}\r\n            color={\r\n              priceImpactSeverity > 2\r\n                ? theme.red1\r\n                : showAcceptChanges && trade.tradeType === TradeType.EXACT_INPUT\r\n                ? theme.primary1\r\n                : ''\r\n            }\r\n          >\r\n            {trade.outputAmount.toSignificant(6)}\r\n          </TruncatedText>\r\n        </RowFixed>\r\n        <RowFixed gap={'0px'}>\r\n          <Text fontSize={24} fontWeight={500} style={{ marginLeft: '10px' }}>\r\n            {trade.outputAmount.currency.symbol}\r\n          </Text>\r\n        </RowFixed>\r\n      </RowBetween>\r\n      {showAcceptChanges ? (\r\n        <SwapShowAcceptChanges justify=\"flex-start\" gap={'0px'}>\r\n          <RowBetween>\r\n            <RowFixed>\r\n              <AlertTriangle size={20} style={{ marginRight: '8px', minWidth: 24 }} />\r\n              <TYPE.main color={theme.primary1}> Price Updated</TYPE.main>\r\n            </RowFixed>\r\n            <ButtonPrimary\r\n              style={{ padding: '.5rem', width: 'fit-content', fontSize: '0.825rem', borderRadius: '12px' }}\r\n              onClick={onAcceptChanges}\r\n            >\r\n              Accept\r\n            </ButtonPrimary>\r\n          </RowBetween>\r\n        </SwapShowAcceptChanges>\r\n      ) : null}\r\n      <AutoColumn justify=\"flex-start\" gap=\"sm\" style={{ padding: '12px 0 0 0px' }}>\r\n        {trade.tradeType === TradeType.EXACT_INPUT ? (\r\n          <TYPE.italic textAlign=\"left\" style={{ width: '100%' }}>\r\n            {`Output is estimated. You will receive at least `}\r\n            <b>\r\n              {slippageAdjustedAmounts[Field.OUTPUT]?.toSignificant(6)} {trade.outputAmount.currency.symbol}\r\n            </b>\r\n            {' or the transaction will revert.'}\r\n          </TYPE.italic>\r\n        ) : (\r\n          <TYPE.italic textAlign=\"left\" style={{ width: '100%' }}>\r\n            {`Input is estimated. You will sell at most `}\r\n            <b>\r\n              {slippageAdjustedAmounts[Field.INPUT]?.toSignificant(6)} {trade.inputAmount.currency.symbol}\r\n            </b>\r\n            {' or the transaction will revert.'}\r\n          </TYPE.italic>\r\n        )}\r\n      </AutoColumn>\r\n      {recipient !== null ? (\r\n        <AutoColumn justify=\"flex-start\" gap=\"sm\" style={{ padding: '12px 0 0 0px' }}>\r\n          <TYPE.main>\r\n            Output will be sent to{' '}\r\n            <b title={recipient}>{isAddress(recipient) ? shortenAddress(recipient) : recipient}</b>\r\n          </TYPE.main>\r\n        </AutoColumn>\r\n      ) : null}\r\n    </AutoColumn>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}