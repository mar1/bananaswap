{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{memo,useCallback,useMemo,useRef,useState}from'react';import{ArrowLeft}from'react-feather';import ReactGA from'react-ga';import{usePopper}from'react-popper';import{useDispatch,useSelector}from'react-redux';import{Text}from'rebass';import styled from'styled-components';import{ReactComponent as DropDown}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/images/dropdown.svg\";import{useFetchListCallback}from'../../hooks/useFetchListCallback';import{useOnClickOutside}from'../../hooks/useOnClickOutside';import{useTranslation}from'react-i18next';import useToggle from'../../hooks/useToggle';import{acceptListUpdate,removeList,selectList}from'../../state/lists/actions';import{useSelectedListUrl}from'../../state/lists/hooks';import{CloseIcon,ExternalLink,LinkStyledButton,TYPE}from'../../theme';import listVersionLabel from'../../utils/listVersionLabel';import{parseENSAddress}from'../../utils/parseENSAddress';import uriToHttp from'../../utils/uriToHttp';import{ButtonOutlined,ButtonPrimary,ButtonSecondary}from'../Button';import Column from'../Column';import ListLogo from'../ListLogo';import QuestionHelper from'../QuestionHelper';import Row,{RowBetween}from'../Row';import{PaddedColumn,SearchInput,Separator,SeparatorDark}from'./styleds';var UnpaddedLinkStyledButton=styled(LinkStyledButton)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 0;\\n  font-size: 1rem;\\n  opacity: \",\";\\n\"])),function(_ref){var disabled=_ref.disabled;return disabled?'0.4':'1';});var PopoverContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  z-index: 100;\\n  visibility: \",\";\\n  opacity: \",\";\\n  transition: visibility 150ms linear, opacity 150ms linear;\\n  background: \",\";\\n  border: 1px solid \",\";\\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\\n    0px 24px 32px rgba(0, 0, 0, 0.01);\\n  color: \",\";\\n  border-radius: 0.5rem;\\n  padding: 1rem;\\n  display: grid;\\n  grid-template-rows: 1fr;\\n  grid-gap: 8px;\\n  font-size: 1rem;\\n  text-align: left;\\n\"])),function(props){return props.show?'visible':'hidden';},function(props){return props.show?1:0;},function(_ref2){var theme=_ref2.theme;return theme.bg2;},function(_ref3){var theme=_ref3.theme;return theme.bg3;},function(_ref4){var theme=_ref4.theme;return theme.text2;});var StyledMenu=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  position: relative;\\n  border: none;\\n\"])));var StyledListUrlText=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  max-width: 160px;\\n  opacity: 0.6;\\n  margin-right: 0.5rem;\\n  font-size: 14px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n\"])));function ListOrigin(_ref5){var listUrl=_ref5.listUrl;var ensName=useMemo(function(){var _parseENSAddress;return(_parseENSAddress=parseENSAddress(listUrl))===null||_parseENSAddress===void 0?void 0:_parseENSAddress.ensName;},[listUrl]);var host=useMemo(function(){if(ensName)return undefined;var lowerListUrl=listUrl.toLowerCase();if(lowerListUrl.startsWith('ipfs://')||lowerListUrl.startsWith('ipns://')){return listUrl;}try{var url=new URL(listUrl);return url.host;}catch(error){return undefined;}},[listUrl,ensName]);return/*#__PURE__*/React.createElement(React.Fragment,null,ensName!==null&&ensName!==void 0?ensName:host);}function listUrlRowHTMLId(listUrl){return\"list-row-\".concat(listUrl.replace(/\\./g,'-'));}var ListRow=memo(function ListRow(_ref6){var listUrl=_ref6.listUrl,onBack=_ref6.onBack;var listsByUrl=useSelector(function(state){return state.lists.byUrl;});var selectedListUrl=useSelectedListUrl();var dispatch=useDispatch();var _listsByUrl$listUrl=listsByUrl[listUrl],list=_listsByUrl$listUrl.current,pending=_listsByUrl$listUrl.pendingUpdate;var isSelected=listUrl===selectedListUrl;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useToggle=useToggle(false),_useToggle2=_slicedToArray(_useToggle,2),open=_useToggle2[0],toggle=_useToggle2[1];var node=useRef();var _useState=useState(),_useState2=_slicedToArray(_useState,2),referenceElement=_useState2[0],setReferenceElement=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),popperElement=_useState4[0],setPopperElement=_useState4[1];var _usePopper=usePopper(referenceElement,popperElement,{placement:'auto',strategy:'fixed',modifiers:[{name:'offset',options:{offset:[8,8]}}]}),styles=_usePopper.styles,attributes=_usePopper.attributes;useOnClickOutside(node,open?toggle:undefined);var selectThisList=useCallback(function(){if(isSelected)return;ReactGA.event({category:'Lists',action:'Select List',label:listUrl});dispatch(selectList(listUrl));onBack();},[dispatch,isSelected,listUrl,onBack]);var handleAcceptListUpdate=useCallback(function(){if(!pending)return;ReactGA.event({category:'Lists',action:'Update List from List Select',label:listUrl});dispatch(acceptListUpdate(listUrl));},[dispatch,listUrl,pending]);var handleRemoveList=useCallback(function(){ReactGA.event({category:'Lists',action:'Start Remove List',label:listUrl});if(window.prompt(\"Please confirm you would like to remove this list by typing REMOVE\")===\"REMOVE\"){ReactGA.event({category:'Lists',action:'Confirm Remove List',label:listUrl});dispatch(removeList(listUrl));}},[dispatch,listUrl]);if(!list)return null;return/*#__PURE__*/React.createElement(Row,{key:listUrl,align:\"center\",padding:\"16px\",id:listUrlRowHTMLId(listUrl)},list.logoURI?/*#__PURE__*/React.createElement(ListLogo,{style:{marginRight:'1rem'},logoURI:list.logoURI,alt:\"\".concat(list.name,\" list logo\")}):/*#__PURE__*/React.createElement(\"div\",{style:{width:'24px',height:'24px',marginRight:'1rem'}}),/*#__PURE__*/React.createElement(Column,{style:{flex:'1'}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Text,{fontWeight:isSelected?500:400,fontSize:16,style:{overflow:'hidden',textOverflow:'ellipsis'}},list.name)),/*#__PURE__*/React.createElement(Row,{style:{marginTop:'4px'}},/*#__PURE__*/React.createElement(StyledListUrlText,{title:listUrl},/*#__PURE__*/React.createElement(ListOrigin,{listUrl:listUrl})))),/*#__PURE__*/React.createElement(StyledMenu,{ref:node},/*#__PURE__*/React.createElement(ButtonOutlined,{style:{width:'2rem',padding:'.8rem .35rem',borderRadius:'12px',fontSize:'14px',marginRight:'0.5rem'},onClick:toggle,ref:setReferenceElement},/*#__PURE__*/React.createElement(DropDown,null)),open&&/*#__PURE__*/React.createElement(PopoverContainer,Object.assign({show:true,ref:setPopperElement,style:styles.popper},attributes.popper),/*#__PURE__*/React.createElement(\"div\",null,list&&listVersionLabel(list.version)),/*#__PURE__*/React.createElement(SeparatorDark,null),/*#__PURE__*/React.createElement(ExternalLink,{href:\"https://tokenlists.org/token-list?url=\".concat(listUrl)},\"View list\"),/*#__PURE__*/React.createElement(UnpaddedLinkStyledButton,{onClick:handleRemoveList,disabled:Object.keys(listsByUrl).length===1},\"Remove list\"),pending&&/*#__PURE__*/React.createElement(UnpaddedLinkStyledButton,{onClick:handleAcceptListUpdate},\"Update list\"))),isSelected?/*#__PURE__*/React.createElement(ButtonPrimary,{disabled:true,className:\"select-button\",style:{width:'5rem',minWidth:'5rem',padding:'0.5rem .35rem',borderRadius:'12px',fontSize:'14px'}},t('selected')):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ButtonPrimary,{className:\"select-button\",style:{width:'5rem',minWidth:'4.5rem',padding:'0.5rem .35rem',borderRadius:'12px',fontSize:'14px'},onClick:selectThisList},t('select'))));});var AddListButton=styled(ButtonSecondary)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  /* height: 1.8rem; */\\n  max-width: 4rem;\\n  margin-left: 1rem;\\n  border-radius: 12px;\\n  padding: 10px 18px;\\n\"])));var ListContainer=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  overflow: auto;\\n\"])));export function ListSelect(_ref7){var _lists$listUrlInput;var onDismiss=_ref7.onDismiss,onBack=_ref7.onBack;var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),listUrlInput=_useState6[0],setListUrlInput=_useState6[1];var dispatch=useDispatch();var lists=useSelector(function(state){return state.lists.byUrl;});var adding=Boolean((_lists$listUrlInput=lists[listUrlInput])===null||_lists$listUrlInput===void 0?void 0:_lists$listUrlInput.loadingRequestId);var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),addError=_useState8[0],setAddError=_useState8[1];var _useTranslation2=useTranslation(),t=_useTranslation2.t;var handleInput=useCallback(function(e){setListUrlInput(e.target.value);setAddError(null);},[]);var fetchList=useFetchListCallback();var handleAddList=useCallback(function(){if(adding)return;setAddError(null);fetchList(listUrlInput).then(function(){setListUrlInput('');ReactGA.event({category:'Lists',action:'Add List',label:listUrlInput});}).catch(function(error){ReactGA.event({category:'Lists',action:'Add List Failed',label:listUrlInput});setAddError(error.message);dispatch(removeList(listUrlInput));});},[adding,dispatch,fetchList,listUrlInput]);var validUrl=useMemo(function(){return uriToHttp(listUrlInput).length>0||Boolean(parseENSAddress(listUrlInput));},[listUrlInput]);var handleEnterKey=useCallback(function(e){if(validUrl&&e.key==='Enter'){handleAddList();}},[handleAddList,validUrl]);var sortedLists=useMemo(function(){var listUrls=Object.keys(lists);return listUrls.filter(function(listUrl){return Boolean(lists[listUrl].current);}).sort(function(u1,u2){var l1=lists[u1].current;var l2=lists[u2].current;if(l1&&l2){return l1.name.toLowerCase()<l2.name.toLowerCase()?-1:l1.name.toLowerCase()===l2.name.toLowerCase()?0:1;}if(l1)return-1;if(l2)return 1;return 0;});},[lists]);return/*#__PURE__*/React.createElement(Column,{style:{width:'100%',flex:'1 1'}},/*#__PURE__*/React.createElement(PaddedColumn,null,/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ArrowLeft,{style:{cursor:'pointer'},onClick:onBack})),/*#__PURE__*/React.createElement(Text,{fontWeight:500,fontSize:20},t('manageList')),/*#__PURE__*/React.createElement(CloseIcon,{onClick:onDismiss}))),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(PaddedColumn,{gap:\"14px\"},/*#__PURE__*/React.createElement(Text,{fontWeight:600},\"Add a list\",' ',/*#__PURE__*/React.createElement(QuestionHelper,{text:\"Token lists are an open specification for lists of ERC20 tokens. You can use any token list by entering its URL below. Beware that third party token lists can contain fake or malicious ERC20 tokens.\"})),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(SearchInput,{type:\"text\",id:\"list-add-input\",placeholder:\"https:// or ipfs:// or ENS name\",value:listUrlInput,onChange:handleInput,onKeyDown:handleEnterKey,style:{height:'2.75rem',borderRadius:12,padding:'12px'}}),/*#__PURE__*/React.createElement(AddListButton,{onClick:handleAddList,disabled:!validUrl},t('add'))),addError?/*#__PURE__*/React.createElement(TYPE.error,{title:addError,style:{textOverflow:'ellipsis',overflow:'hidden'},error:true},addError):null),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(ListContainer,null,sortedLists.map(function(listUrl){return/*#__PURE__*/React.createElement(ListRow,{key:listUrl,listUrl:listUrl,onBack:onBack});})),/*#__PURE__*/React.createElement(Separator,null),/*#__PURE__*/React.createElement(\"div\",{style:{padding:'16px',textAlign:'center'}},/*#__PURE__*/React.createElement(ExternalLink,{href:\"https://tokenlists.org\"},t('browseList'))));}","map":{"version":3,"sources":["C:/Users/marin/Desktop/bananaswap/src/components/SearchModal/ListSelect.tsx"],"names":["React","memo","useCallback","useMemo","useRef","useState","ArrowLeft","ReactGA","usePopper","useDispatch","useSelector","Text","styled","useFetchListCallback","useOnClickOutside","useTranslation","useToggle","acceptListUpdate","removeList","selectList","useSelectedListUrl","CloseIcon","ExternalLink","LinkStyledButton","TYPE","listVersionLabel","parseENSAddress","uriToHttp","ButtonOutlined","ButtonPrimary","ButtonSecondary","Column","ListLogo","QuestionHelper","Row","RowBetween","PaddedColumn","SearchInput","Separator","SeparatorDark","UnpaddedLinkStyledButton","disabled","PopoverContainer","div","props","show","theme","bg2","bg3","text2","StyledMenu","StyledListUrlText","ListOrigin","listUrl","ensName","host","undefined","lowerListUrl","toLowerCase","startsWith","url","URL","error","listUrlRowHTMLId","replace","ListRow","onBack","listsByUrl","state","lists","byUrl","selectedListUrl","dispatch","list","current","pending","pendingUpdate","isSelected","t","open","toggle","node","referenceElement","setReferenceElement","popperElement","setPopperElement","placement","strategy","modifiers","name","options","offset","styles","attributes","selectThisList","event","category","action","label","handleAcceptListUpdate","handleRemoveList","window","prompt","logoURI","marginRight","width","height","flex","overflow","textOverflow","marginTop","padding","borderRadius","fontSize","popper","version","Object","keys","length","minWidth","AddListButton","ListContainer","ListSelect","onDismiss","listUrlInput","setListUrlInput","adding","Boolean","loadingRequestId","addError","setAddError","handleInput","e","target","value","fetchList","handleAddList","then","catch","message","validUrl","handleEnterKey","key","sortedLists","listUrls","filter","sort","u1","u2","l1","l2","cursor","map","textAlign"],"mappings":"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","sourcesContent":["import React, { memo, useCallback, useMemo, useRef, useState } from 'react'\r\nimport { ArrowLeft } from 'react-feather'\r\nimport ReactGA from 'react-ga'\r\nimport { usePopper } from 'react-popper'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Text } from 'rebass'\r\nimport styled from 'styled-components'\r\nimport { ReactComponent as DropDown } from '../../assets/images/dropdown.svg'\r\nimport { useFetchListCallback } from '../../hooks/useFetchListCallback'\r\nimport { useOnClickOutside } from '../../hooks/useOnClickOutside'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport useToggle from '../../hooks/useToggle'\r\nimport { AppDispatch, AppState } from '../../state'\r\nimport { acceptListUpdate, removeList, selectList } from '../../state/lists/actions'\r\nimport { useSelectedListUrl } from '../../state/lists/hooks'\r\nimport { CloseIcon, ExternalLink, LinkStyledButton, TYPE } from '../../theme'\r\nimport listVersionLabel from '../../utils/listVersionLabel'\r\nimport { parseENSAddress } from '../../utils/parseENSAddress'\r\nimport uriToHttp from '../../utils/uriToHttp'\r\nimport { ButtonOutlined, ButtonPrimary, ButtonSecondary } from '../Button'\r\n\r\nimport Column from '../Column'\r\nimport ListLogo from '../ListLogo'\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport Row, { RowBetween } from '../Row'\r\nimport { PaddedColumn, SearchInput, Separator, SeparatorDark } from './styleds'\r\n\r\nconst UnpaddedLinkStyledButton = styled(LinkStyledButton)`\r\n  padding: 0;\r\n  font-size: 1rem;\r\n  opacity: ${({ disabled }) => (disabled ? '0.4' : '1')};\r\n`\r\n\r\nconst PopoverContainer = styled.div<{ show: boolean }>`\r\n  z-index: 100;\r\n  visibility: ${props => (props.show ? 'visible' : 'hidden')};\r\n  opacity: ${props => (props.show ? 1 : 0)};\r\n  transition: visibility 150ms linear, opacity 150ms linear;\r\n  background: ${({ theme }) => theme.bg2};\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 16px 24px rgba(0, 0, 0, 0.04),\r\n    0px 24px 32px rgba(0, 0, 0, 0.01);\r\n  color: ${({ theme }) => theme.text2};\r\n  border-radius: 0.5rem;\r\n  padding: 1rem;\r\n  display: grid;\r\n  grid-template-rows: 1fr;\r\n  grid-gap: 8px;\r\n  font-size: 1rem;\r\n  text-align: left;\r\n`\r\n\r\nconst StyledMenu = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: relative;\r\n  border: none;\r\n`\r\n\r\nconst StyledListUrlText = styled.div`\r\n  max-width: 160px;\r\n  opacity: 0.6;\r\n  margin-right: 0.5rem;\r\n  font-size: 14px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n`\r\n\r\nfunction ListOrigin({ listUrl }: { listUrl: string }) {\r\n  const ensName = useMemo(() => parseENSAddress(listUrl)?.ensName, [listUrl])\r\n  const host = useMemo(() => {\r\n    if (ensName) return undefined\r\n    const lowerListUrl = listUrl.toLowerCase()\r\n    if (lowerListUrl.startsWith('ipfs://') || lowerListUrl.startsWith('ipns://')) {\r\n      return listUrl\r\n    }\r\n    try {\r\n      const url = new URL(listUrl)\r\n      return url.host\r\n    } catch (error) {\r\n      return undefined\r\n    }\r\n  }, [listUrl, ensName])\r\n  return <>{ensName ?? host}</>\r\n}\r\n\r\nfunction listUrlRowHTMLId(listUrl: string) {\r\n  return `list-row-${listUrl.replace(/\\./g, '-')}`\r\n}\r\n\r\nconst ListRow = memo(function ListRow({ listUrl, onBack }: { listUrl: string; onBack: () => void }) {\r\n  const listsByUrl = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\r\n  const selectedListUrl = useSelectedListUrl()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const { current: list, pendingUpdate: pending } = listsByUrl[listUrl]\r\n\r\n  const isSelected = listUrl === selectedListUrl\r\n\r\n  const { t } = useTranslation()\r\n\r\n  const [open, toggle] = useToggle(false)\r\n  const node = useRef<HTMLDivElement>()\r\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement>()\r\n  const [popperElement, setPopperElement] = useState<HTMLDivElement>()\r\n\r\n  const { styles, attributes } = usePopper(referenceElement, popperElement, {\r\n    placement: 'auto',\r\n    strategy: 'fixed',\r\n    modifiers: [{ name: 'offset', options: { offset: [8, 8] } }]\r\n  })\r\n\r\n  useOnClickOutside(node, open ? toggle : undefined)\r\n\r\n  const selectThisList = useCallback(() => {\r\n    if (isSelected) return\r\n    ReactGA.event({\r\n      category: 'Lists',\r\n      action: 'Select List',\r\n      label: listUrl\r\n    })\r\n\r\n    dispatch(selectList(listUrl))\r\n    onBack()\r\n  }, [dispatch, isSelected, listUrl, onBack])\r\n\r\n  const handleAcceptListUpdate = useCallback(() => {\r\n    if (!pending) return\r\n    ReactGA.event({\r\n      category: 'Lists',\r\n      action: 'Update List from List Select',\r\n      label: listUrl\r\n    })\r\n    dispatch(acceptListUpdate(listUrl))\r\n  }, [dispatch, listUrl, pending])\r\n\r\n  const handleRemoveList = useCallback(() => {\r\n    ReactGA.event({\r\n      category: 'Lists',\r\n      action: 'Start Remove List',\r\n      label: listUrl\r\n    })\r\n    if (window.prompt(`Please confirm you would like to remove this list by typing REMOVE`) === `REMOVE`) {\r\n      ReactGA.event({\r\n        category: 'Lists',\r\n        action: 'Confirm Remove List',\r\n        label: listUrl\r\n      })\r\n      dispatch(removeList(listUrl))\r\n    }\r\n  }, [dispatch, listUrl])\r\n\r\n  if (!list) return null\r\n\r\n  return (\r\n    <Row key={listUrl} align=\"center\" padding=\"16px\" id={listUrlRowHTMLId(listUrl)}>\r\n      {list.logoURI ? (\r\n        <ListLogo style={{ marginRight: '1rem' }} logoURI={list.logoURI} alt={`${list.name} list logo`} />\r\n      ) : (\r\n        <div style={{ width: '24px', height: '24px', marginRight: '1rem' }} />\r\n      )}\r\n      <Column style={{ flex: '1' }}>\r\n        <Row>\r\n          <Text\r\n            fontWeight={isSelected ? 500 : 400}\r\n            fontSize={16}\r\n            style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}\r\n          >\r\n            {list.name}\r\n          </Text>\r\n        </Row>\r\n        <Row\r\n          style={{\r\n            marginTop: '4px'\r\n          }}\r\n        >\r\n          <StyledListUrlText title={listUrl}>\r\n            <ListOrigin listUrl={listUrl} />\r\n          </StyledListUrlText>\r\n        </Row>\r\n      </Column>\r\n      <StyledMenu ref={node as any}>\r\n        <ButtonOutlined\r\n          style={{\r\n            width: '2rem',\r\n            padding: '.8rem .35rem',\r\n            borderRadius: '12px',\r\n            fontSize: '14px',\r\n            marginRight: '0.5rem'\r\n          }}\r\n          onClick={toggle}\r\n          ref={setReferenceElement}\r\n        >\r\n          <DropDown />\r\n        </ButtonOutlined>\r\n\r\n        {open && (\r\n          <PopoverContainer show={true} ref={setPopperElement as any} style={styles.popper} {...attributes.popper}>\r\n            <div>{list && listVersionLabel(list.version)}</div>\r\n            <SeparatorDark />\r\n            <ExternalLink href={`https://tokenlists.org/token-list?url=${listUrl}`}>View list</ExternalLink>\r\n            <UnpaddedLinkStyledButton onClick={handleRemoveList} disabled={Object.keys(listsByUrl).length === 1}>\r\n              Remove list\r\n            </UnpaddedLinkStyledButton>\r\n            {pending && (\r\n              <UnpaddedLinkStyledButton onClick={handleAcceptListUpdate}>Update list</UnpaddedLinkStyledButton>\r\n            )}\r\n          </PopoverContainer>\r\n        )}\r\n      </StyledMenu>\r\n      {isSelected ? (\r\n        <ButtonPrimary\r\n          disabled={true}\r\n          className=\"select-button\"\r\n          style={{ width: '5rem', minWidth: '5rem', padding: '0.5rem .35rem', borderRadius: '12px', fontSize: '14px' }}\r\n        >\r\n          {t('selected')}\r\n        </ButtonPrimary>\r\n      ) : (\r\n        <>\r\n          <ButtonPrimary\r\n            className=\"select-button\"\r\n            style={{\r\n              width: '5rem',\r\n              minWidth: '4.5rem',\r\n              padding: '0.5rem .35rem',\r\n              borderRadius: '12px',\r\n              fontSize: '14px'\r\n            }}\r\n            onClick={selectThisList}\r\n          >\r\n            {t('select')}\r\n          </ButtonPrimary>\r\n        </>\r\n      )}\r\n    </Row>\r\n  )\r\n})\r\n\r\nconst AddListButton = styled(ButtonSecondary)`\r\n  /* height: 1.8rem; */\r\n  max-width: 4rem;\r\n  margin-left: 1rem;\r\n  border-radius: 12px;\r\n  padding: 10px 18px;\r\n`\r\n\r\nconst ListContainer = styled.div`\r\n  flex: 1;\r\n  overflow: auto;\r\n`\r\n\r\nexport function ListSelect({ onDismiss, onBack }: { onDismiss: () => void; onBack: () => void }) {\r\n  const [listUrlInput, setListUrlInput] = useState<string>('')\r\n\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const lists = useSelector<AppState, AppState['lists']['byUrl']>(state => state.lists.byUrl)\r\n  const adding = Boolean(lists[listUrlInput]?.loadingRequestId)\r\n  const [addError, setAddError] = useState<string | null>(null)\r\n\r\n  const { t } = useTranslation()\r\n\r\n  const handleInput = useCallback(e => {\r\n    setListUrlInput(e.target.value)\r\n    setAddError(null)\r\n  }, [])\r\n  const fetchList = useFetchListCallback()\r\n\r\n  const handleAddList = useCallback(() => {\r\n    if (adding) return\r\n    setAddError(null)\r\n    fetchList(listUrlInput)\r\n      .then(() => {\r\n        setListUrlInput('')\r\n        ReactGA.event({\r\n          category: 'Lists',\r\n          action: 'Add List',\r\n          label: listUrlInput\r\n        })\r\n      })\r\n      .catch(error => {\r\n        ReactGA.event({\r\n          category: 'Lists',\r\n          action: 'Add List Failed',\r\n          label: listUrlInput\r\n        })\r\n        setAddError(error.message)\r\n        dispatch(removeList(listUrlInput))\r\n      })\r\n  }, [adding, dispatch, fetchList, listUrlInput])\r\n\r\n  const validUrl: boolean = useMemo(() => {\r\n    return uriToHttp(listUrlInput).length > 0 || Boolean(parseENSAddress(listUrlInput))\r\n  }, [listUrlInput])\r\n\r\n  const handleEnterKey = useCallback(\r\n    e => {\r\n      if (validUrl && e.key === 'Enter') {\r\n        handleAddList()\r\n      }\r\n    },\r\n    [handleAddList, validUrl]\r\n  )\r\n\r\n  const sortedLists = useMemo(() => {\r\n    const listUrls = Object.keys(lists)\r\n    return listUrls\r\n      .filter(listUrl => {\r\n        return Boolean(lists[listUrl].current)\r\n      })\r\n      .sort((u1, u2) => {\r\n        const { current: l1 } = lists[u1]\r\n        const { current: l2 } = lists[u2]\r\n        if (l1 && l2) {\r\n          return l1.name.toLowerCase() < l2.name.toLowerCase()\r\n            ? -1\r\n            : l1.name.toLowerCase() === l2.name.toLowerCase()\r\n            ? 0\r\n            : 1\r\n        }\r\n        if (l1) return -1\r\n        if (l2) return 1\r\n        return 0\r\n      })\r\n  }, [lists])\r\n\r\n  return (\r\n    <Column style={{ width: '100%', flex: '1 1' }}>\r\n      <PaddedColumn>\r\n        <RowBetween>\r\n          <div>\r\n            <ArrowLeft style={{ cursor: 'pointer' }} onClick={onBack} />\r\n          </div>\r\n          <Text fontWeight={500} fontSize={20}>\r\n          {t('manageList')}\r\n          </Text>\r\n          <CloseIcon onClick={onDismiss} />\r\n        </RowBetween>\r\n      </PaddedColumn>\r\n\r\n      <Separator />\r\n\r\n      <PaddedColumn gap=\"14px\">\r\n        <Text fontWeight={600}>\r\n          Add a list{' '}\r\n          <QuestionHelper text=\"Token lists are an open specification for lists of ERC20 tokens. You can use any token list by entering its URL below. Beware that third party token lists can contain fake or malicious ERC20 tokens.\" />\r\n        </Text>\r\n        <Row>\r\n          <SearchInput\r\n            type=\"text\"\r\n            id=\"list-add-input\"\r\n            placeholder=\"https:// or ipfs:// or ENS name\"\r\n            value={listUrlInput}\r\n            onChange={handleInput}\r\n            onKeyDown={handleEnterKey}\r\n            style={{ height: '2.75rem', borderRadius: 12, padding: '12px' }}\r\n          />\r\n          <AddListButton onClick={handleAddList} disabled={!validUrl}>\r\n            {t('add')}\r\n          </AddListButton>\r\n        </Row>\r\n        {addError ? (\r\n          <TYPE.error title={addError} style={{ textOverflow: 'ellipsis', overflow: 'hidden' }} error>\r\n            {addError}\r\n          </TYPE.error>\r\n        ) : null}\r\n      </PaddedColumn>\r\n\r\n      <Separator />\r\n\r\n      <ListContainer>\r\n        {sortedLists.map(listUrl => (\r\n          <ListRow key={listUrl} listUrl={listUrl} onBack={onBack} />\r\n        ))}\r\n      </ListContainer>\r\n      <Separator />\r\n\r\n      <div style={{ padding: '16px', textAlign: 'center' }}>\r\n        <ExternalLink href=\"https://tokenlists.org\">{t('browseList')}</ExternalLink>\r\n      </div>\r\n    </Column>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}