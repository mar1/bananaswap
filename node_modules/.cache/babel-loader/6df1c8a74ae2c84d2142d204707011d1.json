{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marin\\\\Documents\\\\Dev\\\\bananaswap\\\\moonbeam-uniswap\\\\uniswap-interface-moonbeam\\\\src\\\\pages\\\\Earn\\\\components\\\\Stake.tsx\";\nimport React from 'react';\nimport styled from 'styled-components';\n//import {Button} from '../../../components/Button'\nimport { ButtonLight, ButtonPrimary } from '../../../components/Button';\nimport { Link } from 'react-router-dom';\nimport { Text } from 'rebass';\nimport { farmAddress, farmABI } from '../conf.js';\nimport { ethers } from 'ethers';\n/*\r\nimport useAllowance from '../../../hooks/useAllowance'\r\nimport useApprove from '../../../hooks/useApprove'\r\nimport useModal from '../../../hooks/useModal'\r\nimport useStake from '../../../hooks/useStake'\r\nimport useStakedBalance from '../../../hooks/useStakedBalance'\r\nimport useTokenBalance from '../../../hooks/useTokenBalance'\r\nimport useUnstake from '../../../hooks/useUnstake'\r\n\r\nimport { getDisplayBalance } from '../../../utils/formatBalance'\r\n\r\nimport DepositModal from './DepositModal'\r\nimport WithdrawModal from './WithdrawModal'\r\n*/\n//import imageUniswap from '../../../assets/img/logo-uniswap.svg'\n\nconst Stake = ({\n  lpContract,\n  pid,\n  tokenName\n}) => {\n  function go() {\n    alert('o');\n  }\n\n  async function fetchRewards() {\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    await provider.send(\"eth_requestAccounts\", []);\n    const signer = provider.getSigner();\n    const signerAddress = await signer.getAddress();\n    const farmContract = new ethers.Contract(farmAddress, farmABI, provider);\n    let pending = await farmContract.pending(\"0\", signerAddress);\n    pending = ethers.utils.formatUnits(pending, 18);\n    console.log(pending);\n    let rewardsToReplace = window.document.getElementById('rewards-to-claim');\n    rewardsToReplace.innerText = `${Number(pending).toFixed(4)} 🍌 to claim`;\n  }\n\n  fetchRewards();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ButtonPrimary, {\n    id: \"join-pool-button\",\n    as: Link,\n    style: {\n      padding: 16\n    },\n    onClick: go,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    fontWeight: 500,\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Claim your rewards\")), /*#__PURE__*/React.createElement(Text, {\n    fontWeight: 500,\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    id: \"rewards-to-claim\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(ButtonLight, {\n    id: \"unstake\",\n    as: Link,\n    style: {\n      padding: 16\n    },\n    onClick: go,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    fontWeight: 500,\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 1\n    }\n  }, \"Unstake your LP tokens\")), /*#__PURE__*/React.createElement(Text, {\n    fontWeight: 500,\n    fontSize: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 1\n    }\n  }, \"5 BANS currently staked\"));\n};\n\nconst StyledCardHeader = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${props => props.theme.spacing[6]}px;\n  width: 100%;\n`;\nconst StyledActionSpacer = styled.div`\n  height: ${props => props.theme.spacing[4]}px;\n  width: ${props => props.theme.spacing[4]}px;\n`;\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\nexport default Stake;","map":{"version":3,"sources":["C:/Users/marin/Documents/Dev/bananaswap/moonbeam-uniswap/uniswap-interface-moonbeam/src/pages/Earn/components/Stake.tsx"],"names":["React","styled","ButtonLight","ButtonPrimary","Link","Text","farmAddress","farmABI","ethers","Stake","lpContract","pid","tokenName","go","alert","fetchRewards","provider","providers","Web3Provider","window","ethereum","send","signer","getSigner","signerAddress","getAddress","farmContract","Contract","pending","utils","formatUnits","console","log","rewardsToReplace","document","getElementById","innerText","Number","toFixed","padding","StyledCardHeader","div","StyledCardActions","props","theme","spacing","StyledActionSpacer","StyledCardContentInner"],"mappings":"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","sourcesContent":["import React, { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport BigNumber from 'bignumber.js'\r\n\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\n//import {Button} from '../../../components/Button'\r\nimport { ButtonError, ButtonLight, ButtonPrimary, ButtonConfirmed } from '../../../components/Button'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport CardIcon from '../../../components/CardIcon'\r\nimport { AddIcon, RemoveIcon } from '../../../components/icons'\r\nimport IconButton from '../../../components/IconButton'\r\nimport Label from '../../../components/Label'\r\nimport Value from '../../../components/Value'\r\nimport { Link } from 'react-router-dom'\r\nimport { Text } from 'rebass'\r\nimport { lpTokenAddress, farmAddress, bananasAddress, lpTokenABI, farmABI, bananasABI} from '../conf.js'\r\nimport { ethers } from 'ethers'\r\n\r\n/*\r\nimport useAllowance from '../../../hooks/useAllowance'\r\nimport useApprove from '../../../hooks/useApprove'\r\nimport useModal from '../../../hooks/useModal'\r\nimport useStake from '../../../hooks/useStake'\r\nimport useStakedBalance from '../../../hooks/useStakedBalance'\r\nimport useTokenBalance from '../../../hooks/useTokenBalance'\r\nimport useUnstake from '../../../hooks/useUnstake'\r\n\r\nimport { getDisplayBalance } from '../../../utils/formatBalance'\r\n\r\nimport DepositModal from './DepositModal'\r\nimport WithdrawModal from './WithdrawModal'\r\n*/\r\n//import imageUniswap from '../../../assets/img/logo-uniswap.svg'\r\n\r\ninterface StakeProps {\r\n  lpContract: Contract,\r\n  pid: number,\r\n  tokenName: string\r\n}\r\n\r\nconst Stake: React.FC<StakeProps> = ({ lpContract, pid, tokenName }) => {\r\n\r\nfunction go() {\r\n  alert('o')\r\n}\r\n\r\nasync function fetchRewards() {\r\n  const provider = new ethers.providers.Web3Provider(window.ethereum)\r\n  await provider.send(\"eth_requestAccounts\", []);\r\n  const signer = provider.getSigner()\r\n  const signerAddress = await signer.getAddress()\r\n  const farmContract = new ethers.Contract(farmAddress, farmABI, provider);\r\n  let pending = await farmContract.pending(\"0\", signerAddress)\r\n  pending = ethers.utils.formatUnits(pending, 18)\r\n  console.log(pending)\r\n  let rewardsToReplace = window.document.getElementById('rewards-to-claim')\r\n  rewardsToReplace.innerText = `${Number(pending).toFixed(4)} 🍌 to claim`\r\n}\r\nfetchRewards()\r\n\r\n\r\n  return (\r\n    <>\r\n    <ButtonPrimary id=\"join-pool-button\" as={Link} style={{ padding: 16 }} onClick={go}>\r\n      <Text fontWeight={500} fontSize={20}>\r\n        Claim your rewards\r\n      </Text>\r\n    </ButtonPrimary>\r\n      <Text fontWeight={500} fontSize={20}>\r\n        <Text id=\"rewards-to-claim\"></Text> \r\n      </Text>\r\n\r\n<ButtonLight id=\"unstake\" as={Link} style={{ padding: 16 }} onClick={go}>\r\n<Text fontWeight={500} fontSize={20}>\r\n  Unstake your LP tokens\r\n</Text>\r\n</ButtonLight>\r\n<Text fontWeight={500} fontSize={20}>\r\n        5 BANS currently staked\r\n      </Text>\r\n</>\r\n            )\r\n}\r\n\r\nconst StyledCardHeader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\nconst StyledCardActions = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: ${(props) => props.theme.spacing[6]}px;\r\n  width: 100%;\r\n`\r\n\r\nconst StyledActionSpacer = styled.div`\r\n  height: ${(props) => props.theme.spacing[4]}px;\r\n  width: ${(props) => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`\r\n\r\nexport default Stake"]},"metadata":{},"sourceType":"module"}