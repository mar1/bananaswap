{"ast":null,"code":"import _taggedTemplateLiteral from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;import{UnsupportedChainIdError,useWeb3React}from'@web3-react/core';import{darken,lighten}from'polished';import React,{useMemo}from'react';import{Activity}from'react-feather';import{useTranslation}from'react-i18next';import styled,{css}from'styled-components';import CoinbaseWalletIcon from\"../../assets/images/coinbaseWalletIcon.svg\";import FortmaticIcon from'../../assets/images/fortmaticIcon.png';import PortisIcon from'../../assets/images/portisIcon.png';import WalletConnectIcon from\"../../assets/images/walletConnectIcon.svg\";import{fortmatic,injected,portis,walletconnect,walletlink}from'../../connectors';import{NetworkContextName}from'../../constants';import useENSName from'../../hooks/useENSName';import{useHasSocks}from'../../hooks/useSocksBalance';import{useWalletModalToggle}from'../../state/application/hooks';import{isTransactionRecent,useAllTransactions}from'../../state/transactions/hooks';import{shortenAddress}from'../../utils';import{ButtonSecondary}from'../Button';import Identicon from'../Identicon';import Loader from'../Loader';import{RowBetween}from'../Row';import WalletModal from'../WalletModal';var IconWrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  \",\";\\n  align-items: center;\\n  justify-content: center;\\n  & > * {\\n    height: \",\";\\n    width: \",\";\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.flexColumnNoWrap;},function(_ref2){var size=_ref2.size;return size?size+'px':'32px';},function(_ref3){var size=_ref3.size;return size?size+'px':'32px';});var Web3StatusGeneric=styled(ButtonSecondary)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  \",\"\\n  width: 100%;\\n  align-items: center;\\n  padding: 0.5rem;\\n  border-radius: 12px;\\n  cursor: pointer;\\n  user-select: none;\\n  :focus {\\n    outline: none;\\n  }\\n\"])),function(_ref4){var theme=_ref4.theme;return theme.flexRowNoWrap;});var Web3StatusError=styled(Web3StatusGeneric)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  border: 1px solid \",\";\\n  color: \",\";\\n  font-weight: 500;\\n  :hover,\\n  :focus {\\n    background-color: \",\";\\n  }\\n\"])),function(_ref5){var theme=_ref5.theme;return theme.red1;},function(_ref6){var theme=_ref6.theme;return theme.red1;},function(_ref7){var theme=_ref7.theme;return theme.white;},function(_ref8){var theme=_ref8.theme;return darken(0.1,theme.red1);});var Web3StatusConnect=styled(Web3StatusGeneric)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  border: none;\\n  color: \",\";\\n  font-weight: 500;\\n\\n  :hover,\\n  :focus {\\n    border: 1px solid \",\";\\n    color: \",\";\\n  }\\n\\n  \",\"\\n\"])),function(_ref9){var theme=_ref9.theme;return theme.primary4;},function(_ref10){var theme=_ref10.theme;return theme.primaryText1;},function(_ref11){var theme=_ref11.theme;return darken(0.05,theme.primary4);},function(_ref12){var theme=_ref12.theme;return theme.primaryText1;},function(_ref13){var faded=_ref13.faded;return faded&&css(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n      background-color: \",\";\\n      border: 1px solid \",\";\\n      color: \",\";\\n\\n      :hover,\\n      :focus {\\n        border: 1px solid \",\";\\n        color: \",\";\\n      }\\n    \"])),function(_ref14){var theme=_ref14.theme;return theme.primary5;},function(_ref15){var theme=_ref15.theme;return theme.primary5;},function(_ref16){var theme=_ref16.theme;return theme.primaryText1;},function(_ref17){var theme=_ref17.theme;return darken(0.05,theme.primary4);},function(_ref18){var theme=_ref18.theme;return darken(0.05,theme.primaryText1);});});var Web3StatusConnected=styled(Web3StatusGeneric)(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  border: 1px solid \",\";\\n  color: \",\";\\n  font-weight: 500;\\n  :hover,\\n  :focus {\\n    background-color: \",\";\\n\\n    :focus {\\n      border: 1px solid \",\";\\n    }\\n  }\\n\"])),function(_ref19){var pending=_ref19.pending,theme=_ref19.theme;return pending?theme.primary1:theme.bg2;},function(_ref20){var pending=_ref20.pending,theme=_ref20.theme;return pending?theme.primary1:theme.bg3;},function(_ref21){var pending=_ref21.pending,theme=_ref21.theme;return pending?theme.white:theme.text1;},function(_ref22){var pending=_ref22.pending,theme=_ref22.theme;return pending?darken(0.05,theme.primary1):lighten(0.05,theme.bg2);},function(_ref23){var pending=_ref23.pending,theme=_ref23.theme;return pending?darken(0.1,theme.primary1):darken(0.1,theme.bg3);});var Text=styled.p(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  flex: 1 1 auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  margin: 0 0.5rem 0 0.25rem;\\n  font-size: 1rem;\\n  width: fit-content;\\n  font-weight: 500;\\n\"])));var NetworkIcon=styled(Activity)(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  margin-left: 0.25rem;\\n  margin-right: 0.5rem;\\n  width: 16px;\\n  height: 16px;\\n\"])));// we want the latest one to come first, so return negative if a is after b\nfunction newTransactionsFirst(a,b){return b.addedTime-a.addedTime;}var SOCK=/*#__PURE__*/React.createElement(\"span\",{role:\"img\",\"aria-label\":\"has socks emoji\",style:{marginTop:-4,marginBottom:-4}},\"\\uD83E\\uDDE6\");// eslint-disable-next-line react/prop-types\nfunction StatusIcon(_ref24){var connector=_ref24.connector;if(connector===injected){return/*#__PURE__*/React.createElement(Identicon,null);}else if(connector===walletconnect){return/*#__PURE__*/React.createElement(IconWrapper,{size:16},/*#__PURE__*/React.createElement(\"img\",{src:WalletConnectIcon,alt:''}));}else if(connector===walletlink){return/*#__PURE__*/React.createElement(IconWrapper,{size:16},/*#__PURE__*/React.createElement(\"img\",{src:CoinbaseWalletIcon,alt:''}));}else if(connector===fortmatic){return/*#__PURE__*/React.createElement(IconWrapper,{size:16},/*#__PURE__*/React.createElement(\"img\",{src:FortmaticIcon,alt:''}));}else if(connector===portis){return/*#__PURE__*/React.createElement(IconWrapper,{size:16},/*#__PURE__*/React.createElement(\"img\",{src:PortisIcon,alt:''}));}return null;}function Web3StatusInner(){var _useTranslation=useTranslation(),t=_useTranslation.t;var _useWeb3React=useWeb3React(),account=_useWeb3React.account,connector=_useWeb3React.connector,error=_useWeb3React.error;var _useENSName=useENSName(account!==null&&account!==void 0?account:undefined),ENSName=_useENSName.ENSName;var allTransactions=useAllTransactions();var sortedRecentTransactions=useMemo(function(){var txs=Object.values(allTransactions);return txs.filter(isTransactionRecent).sort(newTransactionsFirst);},[allTransactions]);var pending=sortedRecentTransactions.filter(function(tx){return!tx.receipt;}).map(function(tx){return tx.hash;});var hasPendingTransactions=!!pending.length;var hasSocks=useHasSocks();var toggleWalletModal=useWalletModalToggle();if(account){return/*#__PURE__*/React.createElement(Web3StatusConnected,{id:\"web3-status-connected\",onClick:toggleWalletModal,pending:hasPendingTransactions},hasPendingTransactions?/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(Text,null,pending===null||pending===void 0?void 0:pending.length,\" Pending\"),\" \",/*#__PURE__*/React.createElement(Loader,{stroke:\"white\"})):/*#__PURE__*/React.createElement(React.Fragment,null,hasSocks?SOCK:null,/*#__PURE__*/React.createElement(Text,null,ENSName||shortenAddress(account))),!hasPendingTransactions&&connector&&/*#__PURE__*/React.createElement(StatusIcon,{connector:connector}));}else if(error){return/*#__PURE__*/React.createElement(Web3StatusError,{onClick:toggleWalletModal},/*#__PURE__*/React.createElement(NetworkIcon,null),/*#__PURE__*/React.createElement(Text,null,error instanceof UnsupportedChainIdError?'Wrong Network':'Error'));}else{return/*#__PURE__*/React.createElement(Web3StatusConnect,{id:\"connect-wallet\",onClick:toggleWalletModal,faded:!account},/*#__PURE__*/React.createElement(Text,null,t('Connect to a wallet')));}}export default function Web3Status(){var _useWeb3React2=useWeb3React(),active=_useWeb3React2.active,account=_useWeb3React2.account;var contextNetwork=useWeb3React(NetworkContextName);var _useENSName2=useENSName(account!==null&&account!==void 0?account:undefined),ENSName=_useENSName2.ENSName;var allTransactions=useAllTransactions();var sortedRecentTransactions=useMemo(function(){var txs=Object.values(allTransactions);return txs.filter(isTransactionRecent).sort(newTransactionsFirst);},[allTransactions]);var pending=sortedRecentTransactions.filter(function(tx){return!tx.receipt;}).map(function(tx){return tx.hash;});var confirmed=sortedRecentTransactions.filter(function(tx){return tx.receipt;}).map(function(tx){return tx.hash;});if(!contextNetwork.active&&!active){return null;}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Web3StatusInner,null),/*#__PURE__*/React.createElement(WalletModal,{ENSName:ENSName!==null&&ENSName!==void 0?ENSName:undefined,pendingTransactions:pending,confirmedTransactions:confirmed}));}","map":{"version":3,"sources":["C:/Users/marin/Desktop/bananaswap/src/components/Web3Status/index.tsx"],"names":["UnsupportedChainIdError","useWeb3React","darken","lighten","React","useMemo","Activity","useTranslation","styled","css","FortmaticIcon","PortisIcon","fortmatic","injected","portis","walletconnect","walletlink","NetworkContextName","useENSName","useHasSocks","useWalletModalToggle","isTransactionRecent","useAllTransactions","shortenAddress","ButtonSecondary","Identicon","Loader","RowBetween","WalletModal","IconWrapper","div","theme","flexColumnNoWrap","size","Web3StatusGeneric","flexRowNoWrap","Web3StatusError","red1","white","Web3StatusConnect","primary4","primaryText1","faded","primary5","Web3StatusConnected","pending","primary1","bg2","bg3","text1","Text","p","NetworkIcon","newTransactionsFirst","a","b","addedTime","SOCK","marginTop","marginBottom","StatusIcon","connector","WalletConnectIcon","CoinbaseWalletIcon","Web3StatusInner","t","account","error","undefined","ENSName","allTransactions","sortedRecentTransactions","txs","Object","values","filter","sort","tx","receipt","map","hash","hasPendingTransactions","length","hasSocks","toggleWalletModal","Web3Status","active","contextNetwork","confirmed"],"mappings":"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","sourcesContent":["import { AbstractConnector } from '@web3-react/abstract-connector'\r\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core'\r\nimport { darken, lighten } from 'polished'\r\nimport React, { useMemo } from 'react'\r\nimport { Activity } from 'react-feather'\r\nimport { useTranslation } from 'react-i18next'\r\nimport styled, { css } from 'styled-components'\r\nimport CoinbaseWalletIcon from '../../assets/images/coinbaseWalletIcon.svg'\r\nimport FortmaticIcon from '../../assets/images/fortmaticIcon.png'\r\nimport PortisIcon from '../../assets/images/portisIcon.png'\r\nimport WalletConnectIcon from '../../assets/images/walletConnectIcon.svg'\r\nimport { fortmatic, injected, portis, walletconnect, walletlink } from '../../connectors'\r\nimport { NetworkContextName } from '../../constants'\r\nimport useENSName from '../../hooks/useENSName'\r\nimport { useHasSocks } from '../../hooks/useSocksBalance'\r\nimport { useWalletModalToggle } from '../../state/application/hooks'\r\nimport { isTransactionRecent, useAllTransactions } from '../../state/transactions/hooks'\r\nimport { TransactionDetails } from '../../state/transactions/reducer'\r\nimport { shortenAddress } from '../../utils'\r\nimport { ButtonSecondary } from '../Button'\r\n\r\nimport Identicon from '../Identicon'\r\nimport Loader from '../Loader'\r\n\r\nimport { RowBetween } from '../Row'\r\nimport WalletModal from '../WalletModal'\r\n\r\nconst IconWrapper = styled.div<{ size?: number }>`\r\n  ${({ theme }) => theme.flexColumnNoWrap};\r\n  align-items: center;\r\n  justify-content: center;\r\n  & > * {\r\n    height: ${({ size }) => (size ? size + 'px' : '32px')};\r\n    width: ${({ size }) => (size ? size + 'px' : '32px')};\r\n  }\r\n`\r\n\r\nconst Web3StatusGeneric = styled(ButtonSecondary)`\r\n  ${({ theme }) => theme.flexRowNoWrap}\r\n  width: 100%;\r\n  align-items: center;\r\n  padding: 0.5rem;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  :focus {\r\n    outline: none;\r\n  }\r\n`\r\nconst Web3StatusError = styled(Web3StatusGeneric)`\r\n  background-color: ${({ theme }) => theme.red1};\r\n  border: 1px solid ${({ theme }) => theme.red1};\r\n  color: ${({ theme }) => theme.white};\r\n  font-weight: 500;\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ theme }) => darken(0.1, theme.red1)};\r\n  }\r\n`\r\n\r\nconst Web3StatusConnect = styled(Web3StatusGeneric)<{ faded?: boolean }>`\r\n  background-color: ${({ theme }) => theme.primary4};\r\n  border: none;\r\n  color: ${({ theme }) => theme.primaryText1};\r\n  font-weight: 500;\r\n\r\n  :hover,\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => darken(0.05, theme.primary4)};\r\n    color: ${({ theme }) => theme.primaryText1};\r\n  }\r\n\r\n  ${({ faded }) =>\r\n    faded &&\r\n    css`\r\n      background-color: ${({ theme }) => theme.primary5};\r\n      border: 1px solid ${({ theme }) => theme.primary5};\r\n      color: ${({ theme }) => theme.primaryText1};\r\n\r\n      :hover,\r\n      :focus {\r\n        border: 1px solid ${({ theme }) => darken(0.05, theme.primary4)};\r\n        color: ${({ theme }) => darken(0.05, theme.primaryText1)};\r\n      }\r\n    `}\r\n`\r\n\r\nconst Web3StatusConnected = styled(Web3StatusGeneric)<{ pending?: boolean }>`\r\n  background-color: ${({ pending, theme }) => (pending ? theme.primary1 : theme.bg2)};\r\n  border: 1px solid ${({ pending, theme }) => (pending ? theme.primary1 : theme.bg3)};\r\n  color: ${({ pending, theme }) => (pending ? theme.white : theme.text1)};\r\n  font-weight: 500;\r\n  :hover,\r\n  :focus {\r\n    background-color: ${({ pending, theme }) => (pending ? darken(0.05, theme.primary1) : lighten(0.05, theme.bg2))};\r\n\r\n    :focus {\r\n      border: 1px solid ${({ pending, theme }) => (pending ? darken(0.1, theme.primary1) : darken(0.1, theme.bg3))};\r\n    }\r\n  }\r\n`\r\n\r\nconst Text = styled.p`\r\n  flex: 1 1 auto;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  margin: 0 0.5rem 0 0.25rem;\r\n  font-size: 1rem;\r\n  width: fit-content;\r\n  font-weight: 500;\r\n`\r\n\r\nconst NetworkIcon = styled(Activity)`\r\n  margin-left: 0.25rem;\r\n  margin-right: 0.5rem;\r\n  width: 16px;\r\n  height: 16px;\r\n`\r\n\r\n// we want the latest one to come first, so return negative if a is after b\r\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\r\n  return b.addedTime - a.addedTime\r\n}\r\n\r\nconst SOCK = (\r\n  <span role=\"img\" aria-label=\"has socks emoji\" style={{ marginTop: -4, marginBottom: -4 }}>\r\n    🧦\r\n  </span>\r\n)\r\n\r\n// eslint-disable-next-line react/prop-types\r\nfunction StatusIcon({ connector }: { connector: AbstractConnector }) {\r\n  if (connector === injected) {\r\n    return <Identicon />\r\n  } else if (connector === walletconnect) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={WalletConnectIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  } else if (connector === walletlink) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={CoinbaseWalletIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  } else if (connector === fortmatic) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={FortmaticIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  } else if (connector === portis) {\r\n    return (\r\n      <IconWrapper size={16}>\r\n        <img src={PortisIcon} alt={''} />\r\n      </IconWrapper>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nfunction Web3StatusInner() {\r\n  const { t } = useTranslation()\r\n  const { account, connector, error } = useWeb3React()\r\n\r\n  const { ENSName } = useENSName(account ?? undefined)\r\n\r\n  const allTransactions = useAllTransactions()\r\n\r\n  const sortedRecentTransactions = useMemo(() => {\r\n    const txs = Object.values(allTransactions)\r\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\r\n  }, [allTransactions])\r\n\r\n  const pending = sortedRecentTransactions.filter(tx => !tx.receipt).map(tx => tx.hash)\r\n\r\n  const hasPendingTransactions = !!pending.length\r\n  const hasSocks = useHasSocks()\r\n  const toggleWalletModal = useWalletModalToggle()\r\n\r\n  if (account) {\r\n    return (\r\n      <Web3StatusConnected id=\"web3-status-connected\" onClick={toggleWalletModal} pending={hasPendingTransactions}>\r\n        {hasPendingTransactions ? (\r\n          <RowBetween>\r\n            <Text>{pending?.length} Pending</Text> <Loader stroke=\"white\" />\r\n          </RowBetween>\r\n        ) : (\r\n          <>\r\n            {hasSocks ? SOCK : null}\r\n            <Text>{ENSName || shortenAddress(account)}</Text>\r\n          </>\r\n        )}\r\n        {!hasPendingTransactions && connector && <StatusIcon connector={connector} />}\r\n      </Web3StatusConnected>\r\n    )\r\n  } else if (error) {\r\n    return (\r\n      <Web3StatusError onClick={toggleWalletModal}>\r\n        <NetworkIcon />\r\n        <Text>{error instanceof UnsupportedChainIdError ? 'Wrong Network' : 'Error'}</Text>\r\n      </Web3StatusError>\r\n    )\r\n  } else {\r\n    return (\r\n      <Web3StatusConnect id=\"connect-wallet\" onClick={toggleWalletModal} faded={!account}>\r\n        <Text>{t('Connect to a wallet')}</Text>\r\n      </Web3StatusConnect>\r\n    )\r\n  }\r\n}\r\n\r\nexport default function Web3Status() {\r\n  const { active, account } = useWeb3React()\r\n  const contextNetwork = useWeb3React(NetworkContextName)\r\n\r\n  const { ENSName } = useENSName(account ?? undefined)\r\n\r\n  const allTransactions = useAllTransactions()\r\n\r\n  const sortedRecentTransactions = useMemo(() => {\r\n    const txs = Object.values(allTransactions)\r\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\r\n  }, [allTransactions])\r\n\r\n  const pending = sortedRecentTransactions.filter(tx => !tx.receipt).map(tx => tx.hash)\r\n  const confirmed = sortedRecentTransactions.filter(tx => tx.receipt).map(tx => tx.hash)\r\n\r\n  if (!contextNetwork.active && !active) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Web3StatusInner />\r\n      <WalletModal ENSName={ENSName ?? undefined} pendingTransactions={pending} confirmedTransactions={confirmed} />\r\n    </>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}