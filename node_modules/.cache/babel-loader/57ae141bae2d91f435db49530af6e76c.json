{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import{ChainId}from'moonbeamswap';import React from'react';import styled from'styled-components';import Logo from'../../assets/images/mainlogo.png';import{useActiveWeb3React}from'../../hooks';//import { useDarkModeManager } from '../../state/user/hooks'\nimport{useETHBalances}from'../../state/wallet/hooks';import Settings from'../Settings';import Menu from'../Menu';import{RowBetween}from'../Row';import Web3Status from'../Web3Status';import{bananasAddress,bananasABI}from'../conf.js';import{ethers}from'ethers';// import VersionSwitch from './VersionSwitch'\nvar HeaderFrame=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  flex-direction: column;\\n  width: 100%;\\n  top: 0;\\n  position: absolute;\\n  z-index: 2;\\n  \",\";\\n\"])),function(_ref){var theme=_ref.theme;return theme.mediaWidth.upToExtraSmall(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    padding: 12px 0 0 0;\\n    width: calc(100%);\\n    position: relative;\\n  \"])));});var HeaderElement=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\"])));var HeaderElementWrap=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\\n  \",\";\\n\"])),function(_ref2){var theme=_ref2.theme;return theme.mediaWidth.upToSmall(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    margin-top: 0.5rem;\\n\"])));});var Title=styled.a(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  pointer-events: auto;\\n  text-decoration: none;\\n  text-decoration-style: unset;\\n\\n  :hover {\\n    cursor: pointer;\\n  }\\n\"])));var AccountElement=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  background-color: #006633;\\n  border-radius: 12px;\\n  white-space: nowrap;\\n  width: 100%;\\n\\n  :focus {\\n    border: 1px solid blue;\\n  }\\n\"])));export default function Header(){var _useETHBalances;var _useActiveWeb3React=useActiveWeb3React(),account=_useActiveWeb3React.account,chainId=_useActiveWeb3React.chainId;console.log(chainId,ChainId);var userEthBalance=(_useETHBalances=useETHBalances(account?[account]:[]))===null||_useETHBalances===void 0?void 0:_useETHBalances[account!==null&&account!==void 0?account:''];//const [isDark] = useDarkModeManager()\nfunction fetchGLMB(){return _fetchGLMB.apply(this,arguments);}function _fetchGLMB(){_fetchGLMB=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var provider,signer,signerAddress,bananasContract,tokens,bansDiv;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:provider=new ethers.providers.Web3Provider(window.ethereum);_context.next=3;return provider.send(\"eth_requestAccounts\",[]);case 3:signer=provider.getSigner();_context.next=6;return signer.getAddress();case 6:signerAddress=_context.sent;bananasContract=new ethers.Contract(bananasAddress,bananasABI,provider);_context.next=10;return bananasContract.balanceOf(signerAddress);case 10:tokens=_context.sent;tokens=ethers.utils.formatUnits(tokens,18);tokens=Number(tokens);_context.next=15;return window.document.getElementById(\"bans\");case 15:bansDiv=_context.sent;if(bansDiv){bansDiv.innerText=\"\".concat(tokens.toFixed(4),\" \\uD83C\\uDF4C\");}case 17:case\"end\":return _context.stop();}}},_callee);}));return _fetchGLMB.apply(this,arguments);}fetchGLMB();return/*#__PURE__*/React.createElement(HeaderFrame,null,/*#__PURE__*/React.createElement(RowBetween,{style:{alignItems:'flex-start'},padding:\"1rem\"},/*#__PURE__*/React.createElement(HeaderElement,{className:\"headernav\"},/*#__PURE__*/React.createElement(Title,{href:\".\"},/*#__PURE__*/React.createElement(UniIcon,null,/*#__PURE__*/React.createElement(\"img\",{className:\"logo\",src:Logo,alt:\"BANANASWAP logo\"})))),/*#__PURE__*/React.createElement(HeaderControls,null,/*#__PURE__*/React.createElement(HeaderElement,null,/*#__PURE__*/React.createElement(AccountElement,{active:!!account,style:{pointerEvents:'auto'}},account&&userEthBalance?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BalanceText,{style:{flexShrink:0},pl:\"0.75rem\",pr:\"0.5rem\",fontWeight:500},userEthBalance===null||userEthBalance===void 0?void 0:userEthBalance.toSignificant(4),\" DEV\"),/*#__PURE__*/React.createElement(BalanceText,{id:\"bans\",style:{flexShrink:0},pl:\"0.75rem\",pr:\"0.5rem\",fontWeight:500},\"A\")):null,/*#__PURE__*/React.createElement(Web3Status,null))),/*#__PURE__*/React.createElement(HeaderElementWrap,null,/*#__PURE__*/React.createElement(Settings,null),/*#__PURE__*/React.createElement(Menu,null)))));}","map":{"version":3,"sources":["C:/Users/marin/Desktop/bananaswap/src/components/Header/index.tsx"],"names":["ChainId","React","styled","Logo","useActiveWeb3React","useETHBalances","Settings","Menu","RowBetween","Web3Status","bananasAddress","bananasABI","ethers","HeaderFrame","div","theme","mediaWidth","upToExtraSmall","HeaderElement","HeaderElementWrap","upToSmall","Title","a","AccountElement","Header","account","chainId","console","log","userEthBalance","fetchGLMB","provider","providers","Web3Provider","window","ethereum","send","signer","getSigner","getAddress","signerAddress","bananasContract","Contract","balanceOf","tokens","utils","formatUnits","Number","document","getElementById","bansDiv","innerText","toFixed","alignItems","pointerEvents","flexShrink","toSignificant"],"mappings":"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","sourcesContent":["import { ChainId } from 'moonbeamswap'\r\nimport React from 'react'\r\n\r\nimport styled from 'styled-components'\r\n\r\nimport Logo from '../../assets/images/mainlogo.png'\r\nimport { useActiveWeb3React } from '../../hooks'\r\n//import { useDarkModeManager } from '../../state/user/hooks'\r\nimport { useETHBalances } from '../../state/wallet/hooks'\r\n\r\nimport Settings from '../Settings'\r\nimport Menu from '../Menu'\r\n\r\nimport { RowBetween } from '../Row'\r\nimport Web3Status from '../Web3Status'\r\nimport { bananasAddress, bananasABI} from '../conf.js'\r\nimport { ethers } from 'ethers'\r\n// import VersionSwitch from './VersionSwitch'\r\n\r\ndeclare let window: any;\r\n\r\nconst HeaderFrame = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  top: 0;\r\n  position: absolute;\r\n  z-index: 2;\r\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\r\n    padding: 12px 0 0 0;\r\n    width: calc(100%);\r\n    position: relative;\r\n  `};\r\n`\r\n\r\nconst HeaderElement = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`\r\n\r\nconst HeaderElementWrap = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    margin-top: 0.5rem;\r\n`};\r\n`\r\n\r\nconst Title = styled.a`\r\n  display: flex;\r\n  align-items: center;\r\n  pointer-events: auto;\r\n  text-decoration: none;\r\n  text-decoration-style: unset;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`\r\n\r\nconst AccountElement = styled.div<{ }>`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  background-color: #006633;\r\n  border-radius: 12px;\r\n  white-space: nowrap;\r\n  width: 100%;\r\n\r\n  :focus {\r\n    border: 1px solid blue;\r\n  }\r\n`\r\n\r\nexport default function Header() {\r\n  const { account, chainId } = useActiveWeb3React()\r\nconsole.log(chainId, ChainId)\r\n  const userEthBalance = useETHBalances(account ? [account] : [])?.[account ?? '']\r\n  //const [isDark] = useDarkModeManager()\r\n  async function fetchGLMB() {\r\n    const provider = new ethers.providers.Web3Provider(window.ethereum)\r\n    await provider.send(\"eth_requestAccounts\", []);\r\n    const signer = provider.getSigner()\r\n    const signerAddress = await signer.getAddress()\r\n    const bananasContract = new ethers.Contract(bananasAddress, bananasABI, provider);\r\n    let tokens = await bananasContract.balanceOf(signerAddress)\r\n    tokens = ethers.utils.formatUnits(tokens, 18)\r\n    tokens = Number(tokens)\r\n    let bansDiv = await window.document.getElementById(\"bans\")\r\n   if (bansDiv) {\r\n    bansDiv.innerText = `${tokens.toFixed(4)} 🍌`\r\n   }\r\n  }fetchGLMB();\r\n  return (\r\n    <HeaderFrame>\r\n      <RowBetween style={{ alignItems: 'flex-start' }} padding=\"1rem\">\r\n        <HeaderElement className='headernav'>\r\n          <Title href=\".\">\r\n            <UniIcon>\r\n              <img className='logo' src={Logo} alt=\"BANANASWAP logo\" />\r\n            </UniIcon>\r\n          </Title>\r\n        </HeaderElement>\r\n        <HeaderControls>\r\n          <HeaderElement>\r\n            <AccountElement active={!!account} style={{ pointerEvents: 'auto' }}>\r\n              {account && userEthBalance ? (\r\n                <>\r\n                <BalanceText style={{ flexShrink: 0 }} pl=\"0.75rem\" pr=\"0.5rem\" fontWeight={500}>\r\n                  {userEthBalance?.toSignificant(4)} DEV\r\n                </BalanceText>\r\n                <BalanceText id=\"bans\" style={{ flexShrink: 0 }} pl=\"0.75rem\" pr=\"0.5rem\" fontWeight={500}>\r\n                A\r\n              </BalanceText>\r\n              </>\r\n              ) : null}\r\n              <Web3Status />\r\n            </AccountElement>\r\n          </HeaderElement>\r\n          <HeaderElementWrap>\r\n            {/* <VersionSwitch /> */}\r\n            <Settings />\r\n            <Menu />\r\n          </HeaderElementWrap>\r\n        </HeaderControls>\r\n      </RowBetween>\r\n    </HeaderFrame>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}