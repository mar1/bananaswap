{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:\\\\Users\\\\marin\\\\Desktop\\\\bananaswap\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useState,useRef,useContext}from'react';import styled,{ThemeContext}from'styled-components';import{useTranslation}from'react-i18next';import QuestionHelper from'../QuestionHelper';import{TYPE}from'../../theme';import{AutoColumn}from'../Column';import{RowBetween,RowFixed}from'../Row';import{darken}from'polished';var SlippageError;(function(SlippageError){SlippageError[\"InvalidInput\"]=\"InvalidInput\";SlippageError[\"RiskyLow\"]=\"RiskyLow\";SlippageError[\"RiskyHigh\"]=\"RiskyHigh\";})(SlippageError||(SlippageError={}));var DeadlineError;(function(DeadlineError){DeadlineError[\"InvalidInput\"]=\"InvalidInput\";})(DeadlineError||(DeadlineError={}));var FancyButton=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  align-items: center;\\n  height: 2rem;\\n  border-radius: 36px;\\n  font-size: 12px;\\n  width: auto;\\n  min-width: 3rem;\\n  border: 1px solid \",\";\\n  outline: none;\\n  background: \",\";\\n  :hover {\\n    border: 1px solid \",\";\\n  }\\n  :focus {\\n    border: 1px solid \",\";\\n  }\\n\"])),function(_ref){var theme=_ref.theme;return theme.text1;},function(_ref2){var theme=_ref2.theme;return theme.bg3;},function(_ref3){var theme=_ref3.theme;return theme.bg1;},function(_ref4){var theme=_ref4.theme;return theme.bg4;},function(_ref5){var theme=_ref5.theme;return theme.primary1;});var Option=styled(FancyButton)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin-right: 8px;\\n  :hover {\\n    cursor: pointer;\\n  }\\n  background-color: \",\";\\n  color: \",\";\\n\"])),function(_ref6){var active=_ref6.active,theme=_ref6.theme;return active&&theme.primary1;},function(_ref7){var active=_ref7.active,theme=_ref7.theme;return active?theme.white:theme.text1;});var Input=styled.input(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  font-size: 16px;\\n  width: auto;\\n  outline: none;\\n  &::-webkit-outer-spin-button,\\n  &::-webkit-inner-spin-button {\\n    -webkit-appearance: none;\\n  }\\n  color: \",\";\\n  text-align: right;\\n\"])),function(_ref8){var theme=_ref8.theme;return theme.bg1;},function(_ref9){var theme=_ref9.theme,color=_ref9.color;return color==='red'?theme.red1:theme.text1;});var OptionCustom=styled(FancyButton)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  height: 2rem;\\n  position: relative;\\n  padding: 0 0.75rem;\\n  flex: 1;\\n  border: \",\";\\n  :hover {\\n    border: \",\";\\n  }\\n\\n  input {\\n    width: 100%;\\n    height: 100%;\\n    border: 0px;\\n    border-radius: 2rem;\\n  }\\n\"])),function(_ref10){var theme=_ref10.theme,active=_ref10.active,warning=_ref10.warning;return active&&\"1px solid \".concat(warning?theme.red1:theme.primary1);},function(_ref11){var theme=_ref11.theme,active=_ref11.active,warning=_ref11.warning;return active&&\"1px solid \".concat(warning?darken(0.1,theme.red1):darken(0.1,theme.primary1));});var SlippageEmojiContainer=styled.span(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  color: #f3841e;\\n  \",\"\\n\"])),function(_ref12){var theme=_ref12.theme;return theme.mediaWidth.upToSmall(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    display: none;  \\n  \"])));});export default function SlippageTabs(_ref13){var rawSlippage=_ref13.rawSlippage,setRawSlippage=_ref13.setRawSlippage,deadline=_ref13.deadline,setDeadline=_ref13.setDeadline;var theme=useContext(ThemeContext);var _useTranslation=useTranslation(),t=_useTranslation.t;var inputRef=useRef();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),slippageInput=_useState2[0],setSlippageInput=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),deadlineInput=_useState4[0],setDeadlineInput=_useState4[1];var slippageInputIsValid=slippageInput===''||(rawSlippage/100).toFixed(2)===Number.parseFloat(slippageInput).toFixed(2);var deadlineInputIsValid=deadlineInput===''||(deadline/60).toString()===deadlineInput;var slippageError;if(slippageInput!==''&&!slippageInputIsValid){slippageError=SlippageError.InvalidInput;}else if(slippageInputIsValid&&rawSlippage<50){slippageError=SlippageError.RiskyLow;}else if(slippageInputIsValid&&rawSlippage>500){slippageError=SlippageError.RiskyHigh;}else{slippageError=undefined;}var deadlineError;if(deadlineInput!==''&&!deadlineInputIsValid){deadlineError=DeadlineError.InvalidInput;}else{deadlineError=undefined;}function parseCustomSlippage(value){setSlippageInput(value);try{var valueAsIntFromRoundedFloat=Number.parseInt((Number.parseFloat(value)*100).toString());if(!Number.isNaN(valueAsIntFromRoundedFloat)&&valueAsIntFromRoundedFloat<5000){setRawSlippage(valueAsIntFromRoundedFloat);}}catch(_unused){}}function parseCustomDeadline(value){setDeadlineInput(value);try{var valueAsInt=Number.parseInt(value)*60;if(!Number.isNaN(valueAsInt)&&valueAsInt>0){setDeadline(valueAsInt);}}catch(_unused2){}}return/*#__PURE__*/React.createElement(AutoColumn,{gap:\"md\"},/*#__PURE__*/React.createElement(AutoColumn,{gap:\"sm\"},/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{fontWeight:400,fontSize:14,color:theme.text2},t('slippageTolerance')),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"Your transaction will revert if the price changes unfavorably by more than this percentage.\"})),/*#__PURE__*/React.createElement(RowBetween,null,/*#__PURE__*/React.createElement(Option,{onClick:function onClick(){setSlippageInput('');setRawSlippage(10);},active:rawSlippage===10},\"0.1%\"),/*#__PURE__*/React.createElement(Option,{onClick:function onClick(){setSlippageInput('');setRawSlippage(50);},active:rawSlippage===50},\"0.5%\"),/*#__PURE__*/React.createElement(Option,{onClick:function onClick(){setSlippageInput('');setRawSlippage(100);},active:rawSlippage===100},\"1%\"),/*#__PURE__*/React.createElement(OptionCustom,{active:![10,50,100].includes(rawSlippage),warning:!slippageInputIsValid,tabIndex:-1},/*#__PURE__*/React.createElement(RowBetween,null,!!slippageInput&&(slippageError===SlippageError.RiskyLow||slippageError===SlippageError.RiskyHigh)?/*#__PURE__*/React.createElement(SlippageEmojiContainer,null,/*#__PURE__*/React.createElement(\"span\",{role:\"img\",\"aria-label\":\"warning\"},\"\\u26A0\\uFE0F\")):null,/*#__PURE__*/React.createElement(Input,{ref:inputRef,placeholder:(rawSlippage/100).toFixed(2),value:slippageInput,onBlur:function onBlur(){parseCustomSlippage((rawSlippage/100).toFixed(2));},onChange:function onChange(e){return parseCustomSlippage(e.target.value);},color:!slippageInputIsValid?'red':''}),\"%\"))),!!slippageError&&/*#__PURE__*/React.createElement(RowBetween,{style:{fontSize:'14px',paddingTop:'7px',color:slippageError===SlippageError.InvalidInput?'red':'#F3841E'}},slippageError===SlippageError.InvalidInput?'Enter a valid slippage percentage':slippageError===SlippageError.RiskyLow?'Your transaction may fail':'Your transaction may be frontrun')),/*#__PURE__*/React.createElement(AutoColumn,{gap:\"sm\"},/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(TYPE.black,{fontSize:14,fontWeight:400,color:theme.text2},t('transactionDeadline')),/*#__PURE__*/React.createElement(QuestionHelper,{text:\"Your transaction will revert if it is pending for more than this long.\"})),/*#__PURE__*/React.createElement(RowFixed,null,/*#__PURE__*/React.createElement(OptionCustom,{style:{width:'80px'},tabIndex:-1},/*#__PURE__*/React.createElement(Input,{color:!!deadlineError?'red':undefined,onBlur:function onBlur(){parseCustomDeadline((deadline/60).toString());},placeholder:(deadline/60).toString(),value:deadlineInput,onChange:function onChange(e){return parseCustomDeadline(e.target.value);}})),/*#__PURE__*/React.createElement(TYPE.body,{style:{paddingLeft:'8px'},fontSize:14},t('minutes')))));}","map":{"version":3,"sources":["C:/Users/marin/Desktop/bananaswap/src/components/TransactionSettings/index.tsx"],"names":["React","useState","useRef","useContext","styled","ThemeContext","useTranslation","QuestionHelper","TYPE","AutoColumn","RowBetween","RowFixed","darken","SlippageError","DeadlineError","FancyButton","button","theme","text1","bg3","bg1","bg4","primary1","Option","active","white","Input","input","color","red1","OptionCustom","warning","SlippageEmojiContainer","span","mediaWidth","upToSmall","SlippageTabs","rawSlippage","setRawSlippage","deadline","setDeadline","t","inputRef","slippageInput","setSlippageInput","deadlineInput","setDeadlineInput","slippageInputIsValid","toFixed","Number","parseFloat","deadlineInputIsValid","toString","slippageError","InvalidInput","RiskyLow","RiskyHigh","undefined","deadlineError","parseCustomSlippage","value","valueAsIntFromRoundedFloat","parseInt","isNaN","parseCustomDeadline","valueAsInt","text2","includes","e","target","fontSize","paddingTop","width","paddingLeft"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport QuestionHelper from '../QuestionHelper'\r\nimport { TYPE } from '../../theme'\r\nimport { AutoColumn } from '../Column'\r\nimport { RowBetween, RowFixed } from '../Row'\r\n\r\nimport { darken } from 'polished'\r\n\r\nenum SlippageError {\r\n  InvalidInput = 'InvalidInput',\r\n  RiskyLow = 'RiskyLow',\r\n  RiskyHigh = 'RiskyHigh'\r\n}\r\n\r\nenum DeadlineError {\r\n  InvalidInput = 'InvalidInput'\r\n}\r\n\r\nconst FancyButton = styled.button`\r\n  color: ${({ theme }) => theme.text1};\r\n  align-items: center;\r\n  height: 2rem;\r\n  border-radius: 36px;\r\n  font-size: 12px;\r\n  width: auto;\r\n  min-width: 3rem;\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n  outline: none;\r\n  background: ${({ theme }) => theme.bg1};\r\n  :hover {\r\n    border: 1px solid ${({ theme }) => theme.bg4};\r\n  }\r\n  :focus {\r\n    border: 1px solid ${({ theme }) => theme.primary1};\r\n  }\r\n`\r\n\r\nconst Option = styled(FancyButton)<{ active: boolean }>`\r\n  margin-right: 8px;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  background-color: ${({ active, theme }) => active && theme.primary1};\r\n  color: ${({ active, theme }) => (active ? theme.white : theme.text1)};\r\n`\r\n\r\nconst Input = styled.input`\r\n  background: ${({ theme }) => theme.bg1};\r\n  font-size: 16px;\r\n  width: auto;\r\n  outline: none;\r\n  &::-webkit-outer-spin-button,\r\n  &::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n  }\r\n  color: ${({ theme, color }) => (color === 'red' ? theme.red1 : theme.text1)};\r\n  text-align: right;\r\n`\r\n\r\nconst OptionCustom = styled(FancyButton)<{ active?: boolean; warning?: boolean }>`\r\n  height: 2rem;\r\n  position: relative;\r\n  padding: 0 0.75rem;\r\n  flex: 1;\r\n  border: ${({ theme, active, warning }) => active && `1px solid ${warning ? theme.red1 : theme.primary1}`};\r\n  :hover {\r\n    border: ${({ theme, active, warning }) =>\r\n      active && `1px solid ${warning ? darken(0.1, theme.red1) : darken(0.1, theme.primary1)}`};\r\n  }\r\n\r\n  input {\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0px;\r\n    border-radius: 2rem;\r\n  }\r\n`\r\n\r\nconst SlippageEmojiContainer = styled.span`\r\n  color: #f3841e;\r\n  ${({ theme }) => theme.mediaWidth.upToSmall`\r\n    display: none;  \r\n  `}\r\n`\r\n\r\nexport interface SlippageTabsProps {\r\n  rawSlippage: number\r\n  setRawSlippage: (rawSlippage: number) => void\r\n  deadline: number\r\n  setDeadline: (deadline: number) => void\r\n}\r\n\r\nexport default function SlippageTabs({ rawSlippage, setRawSlippage, deadline, setDeadline }: SlippageTabsProps) {\r\n  const theme = useContext(ThemeContext)\r\n  const { t } = useTranslation()\r\n\r\n  const inputRef = useRef<HTMLInputElement>()\r\n\r\n  const [slippageInput, setSlippageInput] = useState('')\r\n  const [deadlineInput, setDeadlineInput] = useState('')\r\n\r\n  const slippageInputIsValid =\r\n    slippageInput === '' || (rawSlippage / 100).toFixed(2) === Number.parseFloat(slippageInput).toFixed(2)\r\n  const deadlineInputIsValid = deadlineInput === '' || (deadline / 60).toString() === deadlineInput\r\n\r\n  let slippageError: SlippageError | undefined\r\n  if (slippageInput !== '' && !slippageInputIsValid) {\r\n    slippageError = SlippageError.InvalidInput\r\n  } else if (slippageInputIsValid && rawSlippage < 50) {\r\n    slippageError = SlippageError.RiskyLow\r\n  } else if (slippageInputIsValid && rawSlippage > 500) {\r\n    slippageError = SlippageError.RiskyHigh\r\n  } else {\r\n    slippageError = undefined\r\n  }\r\n\r\n  let deadlineError: DeadlineError | undefined\r\n  if (deadlineInput !== '' && !deadlineInputIsValid) {\r\n    deadlineError = DeadlineError.InvalidInput\r\n  } else {\r\n    deadlineError = undefined\r\n  }\r\n\r\n  function parseCustomSlippage(value: string) {\r\n    setSlippageInput(value)\r\n\r\n    try {\r\n      const valueAsIntFromRoundedFloat = Number.parseInt((Number.parseFloat(value) * 100).toString())\r\n      if (!Number.isNaN(valueAsIntFromRoundedFloat) && valueAsIntFromRoundedFloat < 5000) {\r\n        setRawSlippage(valueAsIntFromRoundedFloat)\r\n      }\r\n    } catch {}\r\n  }\r\n\r\n  function parseCustomDeadline(value: string) {\r\n    setDeadlineInput(value)\r\n\r\n    try {\r\n      const valueAsInt: number = Number.parseInt(value) * 60\r\n      if (!Number.isNaN(valueAsInt) && valueAsInt > 0) {\r\n        setDeadline(valueAsInt)\r\n      }\r\n    } catch {}\r\n  }\r\n\r\n  return (\r\n    <AutoColumn gap=\"md\">\r\n      <AutoColumn gap=\"sm\">\r\n        <RowFixed>\r\n          <TYPE.black fontWeight={400} fontSize={14} color={theme.text2}>\r\n            {t('slippageTolerance')}\r\n          </TYPE.black>\r\n          <QuestionHelper text=\"Your transaction will revert if the price changes unfavorably by more than this percentage.\" />\r\n        </RowFixed>\r\n        <RowBetween>\r\n          <Option\r\n            onClick={() => {\r\n              setSlippageInput('')\r\n              setRawSlippage(10)\r\n            }}\r\n            active={rawSlippage === 10}\r\n          >\r\n            0.1%\r\n          </Option>\r\n          <Option\r\n            onClick={() => {\r\n              setSlippageInput('')\r\n              setRawSlippage(50)\r\n            }}\r\n            active={rawSlippage === 50}\r\n          >\r\n            0.5%\r\n          </Option>\r\n          <Option\r\n            onClick={() => {\r\n              setSlippageInput('')\r\n              setRawSlippage(100)\r\n            }}\r\n            active={rawSlippage === 100}\r\n          >\r\n            1%\r\n          </Option>\r\n          <OptionCustom active={![10, 50, 100].includes(rawSlippage)} warning={!slippageInputIsValid} tabIndex={-1}>\r\n            <RowBetween>\r\n              {!!slippageInput &&\r\n              (slippageError === SlippageError.RiskyLow || slippageError === SlippageError.RiskyHigh) ? (\r\n                <SlippageEmojiContainer>\r\n                  <span role=\"img\" aria-label=\"warning\">\r\n                    ⚠️\r\n                  </span>\r\n                </SlippageEmojiContainer>\r\n              ) : null}\r\n              {/* https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451 */}\r\n              <Input\r\n                ref={inputRef as any}\r\n                placeholder={(rawSlippage / 100).toFixed(2)}\r\n                value={slippageInput}\r\n                onBlur={() => {\r\n                  parseCustomSlippage((rawSlippage / 100).toFixed(2))\r\n                }}\r\n                onChange={e => parseCustomSlippage(e.target.value)}\r\n                color={!slippageInputIsValid ? 'red' : ''}\r\n              />\r\n              %\r\n            </RowBetween>\r\n          </OptionCustom>\r\n        </RowBetween>\r\n        {!!slippageError && (\r\n          <RowBetween\r\n            style={{\r\n              fontSize: '14px',\r\n              paddingTop: '7px',\r\n              color: slippageError === SlippageError.InvalidInput ? 'red' : '#F3841E'\r\n            }}\r\n          >\r\n            {slippageError === SlippageError.InvalidInput\r\n              ? 'Enter a valid slippage percentage'\r\n              : slippageError === SlippageError.RiskyLow\r\n              ? 'Your transaction may fail'\r\n              : 'Your transaction may be frontrun'}\r\n          </RowBetween>\r\n        )}\r\n      </AutoColumn>\r\n\r\n      <AutoColumn gap=\"sm\">\r\n        <RowFixed>\r\n          <TYPE.black fontSize={14} fontWeight={400} color={theme.text2}>\r\n          {t('transactionDeadline')}\r\n          </TYPE.black>\r\n          <QuestionHelper text=\"Your transaction will revert if it is pending for more than this long.\" />\r\n        </RowFixed>\r\n        <RowFixed>\r\n          <OptionCustom style={{ width: '80px' }} tabIndex={-1}>\r\n            <Input\r\n              color={!!deadlineError ? 'red' : undefined}\r\n              onBlur={() => {\r\n                parseCustomDeadline((deadline / 60).toString())\r\n              }}\r\n              placeholder={(deadline / 60).toString()}\r\n              value={deadlineInput}\r\n              onChange={e => parseCustomDeadline(e.target.value)}\r\n            />\r\n          </OptionCustom>\r\n          <TYPE.body style={{ paddingLeft: '8px' }} fontSize={14}>\r\n          {t('minutes')}\r\n          </TYPE.body>\r\n        </RowFixed>\r\n      </AutoColumn>\r\n    </AutoColumn>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}